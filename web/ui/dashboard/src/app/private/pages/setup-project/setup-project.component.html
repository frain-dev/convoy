<div convoy-modal position="full" [id]="'configureProjectForm'" [title]="projectType === 'outgoing' ? 'Configure Outgoing Project' : 'Configure Incoming Project'" (closeModal)="cancel()">
	<div modalBody class="pb-60px">
		<convoy-loader *ngIf="showLoader"></convoy-loader>

		<ng-container *ngIf="projectType === 'incoming'">
			<h3 class="font-semibold mt-40px">Create your first source</h3>
			<p class="text-14 text-grey-60 mt-6px max-w-[634px]">
				A source on Convoy represents your event senders, the providers and services you’ll like to receive events from. On creating a source, you’ll get a unique URL to listen to event into Convoy which can then be routed to any endpoint of choice
			</p>
			<convoy-create-source (onAction)="$event?.action == 'close' ? cancel() : onCreateSource($event.data)"></convoy-create-source>
		</ng-container>

		<h3 class="font-semibold mt-40px">Create your first endpoint</h3>
		<p class="text-14 text-grey-60 mt-6px max-w-[634px]">HTTP Endpoint is the destination of events from your sources. Create an endpoint to receive events from the above created source.</p>
		<convoy-create-endpoint (onAction)="$event?.action == 'close' ? cancel() : onCreateEndpoint($event.data)">
			<convoy-toggle label="Automatically subscribe endpoint to all events sent?" className="mt-24px" (onChange)="toggleAutomaticSubscription($event)" [isChecked]="automaticSubscription"></convoy-toggle>
		</convoy-create-endpoint>

		<div [ngClass]="{ 'h-0 invisible': automaticSubscription }">
			<h3 class="font-semibold mt-60px">Create your first subscription</h3>
			<p class="text-14 text-grey-60 mt-6px max-w-[634px]">Subscriptions enable you to subscribe endpoints to events from any source, with extra configurations like event filters and notifications</p>

			<convoy-create-subscription [subscriptionData]="subscriptionData" (onAction)="onProjectOnboardingComplete()"></convoy-create-subscription>
		</div>

		<div class="flex justify-end mt-32px">
			<button convoy-button fill="outline" type="button" class="mr-16px transition-all duration-300 hover:text-danger-100 hover:border-danger-100" (click)="cancel()">Cancel</button>
			<button convoy-button [disabled]="isLoading" (click)="saveProjectConfig()">
				Save and Proceed
				<svg width="24" height="24" class="ml-8px fill-white-100">
					<use xlink:href="#arrow-right-icon"></use>
				</svg>
			</button>
		</div>
	</div>
</div>
