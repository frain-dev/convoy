<h1 class="font__12px font__weight-500 flex flex__align-items-center margin-bottom__24px text__uppercase">
	<a routerLink="/projects" class="font__weight-500 pointer-cursor color__primary">Projects</a>
	<svg width="16" height="16" class="margin-x__4px">
		<use xlink:href="#arrow-right-icon"></use>
	</svg>
	{{ privateService.activeProjectDetails?.name }}
	<svg width="16" height="16" class="margin-x__4px">
		<use xlink:href="#arrow-right-icon"></use>
	</svg>
	<button class="button button__clear pointer-cursor font__weight-500 text__uppercase font__12px" (click)="goBack()">Event Deliveries</button>
	<svg width="16" height="16" class="margin-x__4px">
		<use xlink:href="#arrow-right-icon"></use>
	</svg>
	<span class="font__weight-500">Event Delivery</span>
</h1>

<div class="card padding-all__32px margin-bottom__20px">
	<div class="flex flex__justify-between flex__align-items-center margin-bottom__24px">
		<h3>Overview</h3>
		<button [disabled]="eventDelsDetails?.status !== 'Failure' && eventDelsDetails?.status !== 'Success'" [class]="'button__retry button--has-icon icon-left '">
			<img src="/assets/img/refresh-icon-primary.svg" alt="refresh icon" />

			{{ eventDelsDetails?.status === 'Success' ? 'Force Retry' : 'Retry' }}
		</button>
	</div>

	<div class="grid grid__col-5 margin-bottom__24px">
		<div>
			<p class="color__grey font__12px font__weight-300">EVENT TYPE</p>
			<span class="tag tag--Neutral">{{ eventDelsDetails?.event_metadata?.event_type }}</span>
		</div>
		<div>
			<p class="color__grey font__12px font__weight-300">ATTEMPTS</p>
			<p class="color__black font__14px font__weight-500">{{ eventDelsDetails?.metadata?.num_trials }}</p>
		</div>
		<div>
			<p class="color__grey font__12px font__weight-300">STATUS</p>
			<div [class]="'tag tag--' + eventDelsDetails?.status">{{ eventDelsDetails?.status }}</div>
		</div>
		<div>
			<p class="color__grey font__12px font__weight-300">IP ADDRESS</p>
			<p class="color__black font__14px font__weight-500">{{ eventDeliveryAtempt?.ip_address || '-' }}</p>
		</div>
		<div *ngIf="eventDelsDetails?.status == 'Success'">
			<p class="color__grey font__12px font__weight-300">TIME</p>
			<p class="color__black font__14px font__weight-500">{{ eventDelsDetails?.updated_at | date: 'medium' }}</p>
		</div>
	</div>

	<div class="grid grid__col-5 margin-bottom__32px">
		<div>
			<p class="color__grey font__12px font__weight-300">HTTP STATUS</p>
			<p class="color__black font__14px font__weight-500">{{ eventDeliveryAtempt?.http_status || '-' }}</p>
		</div>
		<div>
			<p class="color__grey font__12px font__weight-300">API VERSION</p>
			<p class="color__black font__14px font__weight-500">{{ eventDeliveryAtempt?.api_version || '-' }}</p>
		</div>
		<div>
			<p class="color__grey font__12px font__weight-300">ENDPOINT</p>
			<p class="color__primary font__14px font__weight-500 long-text long-text__200px" [title]="eventDelsDetails?.endpoint_metadata?.target_url">{{ eventDelsDetails?.endpoint_metadata?.target_url }}</p>
		</div>
		<div></div>
		<div *ngIf="eventDelsDetails?.status === 'Success'"></div>
	</div>

	<div class="grid border__top grid__col-2">
		<div class="eventDelivery border__right padding-top__40px padding-right__32px padding-bottom__40px width__100">
			<h3 class="margin-bottom__16px color__black">Event Payload</h3>
			<prism language="json" [code]="getCodeSnippetString('event_delivery')"></prism>
		</div>
		<div class="eventDelivery padding-left__32px padding-top__40px padding-bottom__40px width__100">
			<h3 class="margin-bottom__16px color__black">Response Header</h3>
			<prism language="json" [code]="getCodeSnippetString('res_head')"></prism>
		</div>
	</div>

	<div class="grid border__top grid__col-2">
		<div class="eventDelivery border__right padding-top__40px padding-right__32px padding-bottom__40px width__100">
			<ng-container *ngIf="eventDeliveryAtempt?.error">
				<h3 class="margin-bottom__16px color__black">Error</h3>
				<prism language="json" [code]="getCodeSnippetString('error')"></prism>
			</ng-container>
			<ng-container *ngIf="!eventDeliveryAtempt?.error">
				<h3 class="margin-bottom__16px color__black">Response Body</h3>
				<prism language="json" [code]="getCodeSnippetString('res_body')"></prism>
			</ng-container>
		</div>
		<div class="eventDelivery padding-top__40px padding-left__32px padding-bottom__40px width__100">
			<h3 class="margin-bottom__16px color__black">Request Header</h3>
			<prism language="json" [code]="getCodeSnippetString('req')"></prism>
		</div>
	</div>
</div>
