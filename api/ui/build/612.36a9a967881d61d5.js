"use strict";(self.webpackChunkconvoy_ng=self.webpackChunkconvoy_ng||[]).push([[612],{2065:(T,E,c)=>{c.d(E,{s:()=>t});var s=c(7073),i=c(4151),f=c(1354);function _(l,a){if(1&l&&i._UZ(0,"img",6),2&l){const g=i.oxw();i.Q6J("src",g.imgSrc,i.LSH)}}function u(l,a){if(1&l&&(i.TgZ(0,"h2",7),i._uU(1),i.qZA()),2&l){const g=i.oxw();i.xp6(1),i.Oqu(g.heading)}}function v(l,a){if(1&l&&(i.TgZ(0,"p",8),i._uU(1),i.qZA()),2&l){const g=i.oxw();i.xp6(1),i.Oqu(g.description)}}function d(l,a){if(1&l){const g=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(){i.CHM(g);const Z=i.oxw();return i.KtG(Z.onAction.emit())}),i._uU(1),i.qZA()}if(2&l){const g=i.oxw();i.xp6(1),i.Oqu(g.buttonText)}}const x=[[["","emptyStateCTA",""]]],m=["[emptyStateCTA]"];let t=(()=>{class l{constructor(){this.onAction=new i.vpe}ngOnInit(){}}return l.\u0275fac=function(g){return new(g||l)},l.\u0275cmp=i.Xpm({type:l,selectors:[["convoy-empty-state"],["","convoy-empty-state",""]],inputs:{imgSrc:"imgSrc",heading:"heading",description:"description",buttonText:"buttonText"},outputs:{onAction:"onAction"},standalone:!0,features:[i.jDz],ngContentSelectors:m,decls:7,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center"],["alt","empty state","class","mb-46px max-h-[156px]",3,"src",4,"ngIf"],["class","font-semibold mb-14px text-center",4,"ngIf"],["class","text-14 text-grey-60 w-full max-w-[600px] text-center mt-8px",4,"ngIf"],["convoy-button","","class","mt-22px",3,"click",4,"ngIf"],[1,"empty:hidden"],["alt","empty state",1,"mb-46px","max-h-[156px]",3,"src"],[1,"font-semibold","mb-14px","text-center"],[1,"text-14","text-grey-60","w-full","max-w-[600px]","text-center","mt-8px"],["convoy-button","",1,"mt-22px",3,"click"]],template:function(g,y){1&g&&(i.F$t(x),i.TgZ(0,"div",0),i.YNc(1,_,1,1,"img",1),i.YNc(2,u,2,1,"h2",2),i.YNc(3,v,2,1,"p",3),i.YNc(4,d,2,1,"button",4),i.TgZ(5,"div",5),i.Hsn(6),i.qZA()()),2&g&&(i.xp6(1),i.Q6J("ngIf",y.imgSrc),i.xp6(1),i.Q6J("ngIf",y.heading),i.xp6(1),i.Q6J("ngIf",y.description),i.xp6(1),i.Q6J("ngIf",y.buttonText))},dependencies:[s.ez,s.O5,f.r],encapsulation:2}),l})()},3579:(T,E,c)=>{c.d(E,{K:()=>f});var s=c(7073),i=c(4151);let f=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275mod=i.oAB({type:_}),_.\u0275inj=i.cJS({imports:[s.ez]}),_})()},493:(T,E,c)=>{c.d(E,{k:()=>i});var s=c(4151);let i=(()=>{class f{transform(u){let v="grey";switch(u){case"default":case"offline":v="grey";break;case"active":case"Success":case"success":case"online":v="success";break;case"Pending":v="warning";break;case"Failed":case"Failure":case"disabled":v="danger"}return v}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275pipe=s.Yjl({name:"statuscolor",type:f,pure:!0}),f})()},372:(T,E,c)=>{c.d(E,{J:()=>v});var s=c(4151),i=c(7073),f=c(385),_=c(1549),u=c(1354);let v=(()=>{class d{constructor(){this.closeModal=new s.vpe}ngOnInit(){}}return d.\u0275fac=function(m){return new(m||d)},d.\u0275cmp=s.Xpm({type:d,selectors:[["convoy-token-modal"]],inputs:{title:"title",description:"description",token:"token",notificationText:"notificationText"},outputs:{closeModal:"closeModal"},standalone:!0,features:[s.jDz],decls:13,vars:5,consts:[["convoy-modal","","position","center"],[1,"flex","flex-col","items-center","justify-center","py-60px","px-30px"],["src","/assets/img/success.gif","alt","success",1,"h-150px","w-150px"],[1,"font-semibold","mt-16px"],[1,"text-14","text-grey-60","font-normal","text-center","mb-60px","mt-8px","max-w-[270px]","m-auto"],[1,"flex","items-center","justify-between","w-full","h-50px","border","border-grey-10","bg-[#F7F9FC]","rounded-[6px]","px-16px","mb-32px"],[1,"text-16","text-grey-60","font-normal","whitespace-nowrap","w-250px","overflow-hidden","text-ellipsis"],[3,"text","notificationText"],["convoy-button","","size","sm","type","button",1,"px-40px",3,"click"]],template:function(m,t){1&m&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"img",2),s.TgZ(3,"h2",3),s._uU(4),s.qZA(),s.TgZ(5,"p",4),s._uU(6),s.qZA(),s.TgZ(7,"div",5)(8,"span",6),s._uU(9),s.qZA(),s._UZ(10,"convoy-copy-button",7),s.qZA(),s.TgZ(11,"button",8),s.NdJ("click",function(){return t.closeModal.emit()}),s._uU(12,"Done"),s.qZA()()()),2&m&&(s.xp6(4),s.Oqu(t.title),s.xp6(2),s.Oqu(t.description),s.xp6(3),s.Oqu(t.token),s.xp6(1),s.Q6J("text",t.token)("notificationText",t.notificationText))},dependencies:[i.ez,f.zS,_.K,u.r]}),d})()},1590:(T,E,c)=>{c.r(E),c.d(E,{EndpointDetailsComponent:()=>nt});var s=c(9369),i=c(7073),f=c(3117),_=c(7205),u=c(1354),v=c(545),d=c(3273),x=c(8763),m=c(5454),t=c(4151),l=c(6907),a=c(5456),g=c(385),y=c(1549),Z=c(5409),D=c(4330);function S(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.showExpireSecret=!0)}),t._uU(1,"Expire Secret"),t.qZA()}}function w(n,p){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",13)(2,"convoy-select",14),t.NdJ("selectedOption",function(r){t.CHM(e);const h=t.oxw();return t.KtG(h.expireSecretForm.patchValue({expiration:r}))}),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.expireSecretForm),t.xp6(1),t.Q6J("options",e.expirationDates)("required",!0)}}function A(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.closeSecretModal.emit())}),t._uU(1,"Cancel"),t.qZA()}}function U(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.expireSecret())}),t._uU(1,"Expire Secret"),t.qZA()}}function k(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("clickItem",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.showExpireSecret=!1)}),t._uU(1,"Done"),t.qZA()}}function M(n,p){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,A,2,0,"button",16),t.YNc(2,U,2,0,"button",17),t.YNc(3,k,2,0,"button",18),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.showExpireSecret),t.xp6(1),t.Q6J("ngIf",e.showExpireSecret),t.xp6(1),t.Q6J("ngIf",!e.showExpireSecret)}}let I=(()=>{class n{constructor(e,o,r){this.formBuilder=e,this.endpointDetailsService=o,this.generalService=r,this.expireCurrentSecret=new t.vpe,this.closeSecretModal=new t.vpe,this.expireSecretForm=this.formBuilder.group({expiration:["",l.kI.required]}),this.expirationDates=[{name:"1 hour",uid:1},{name:"2 hour",uid:2},{name:"4 hour",uid:4},{name:"8 hour",uid:8},{name:"12 hour",uid:12},{name:"16 hour",uid:16},{name:"20 hour",uid:20},{name:"24 hour",uid:24}],this.showExpireSecret=!1,this.isExpiringSecret=!1}ngOnInit(){}expireSecret(){var e=this;return(0,s.Z)(function*(){if(e.expireSecretForm.invalid)e.expireSecretForm.markAllAsTouched();else{e.expireSecretForm.value.expiration=parseInt(e.expireSecretForm.value.expiration),e.isExpiringSecret=!0;try{const o=yield e.endpointDetailsService.expireSecret({endpointId:e.endpointDetails?.uid||"",body:e.expireSecretForm.value});e.generalService.showNotification({style:"success",message:o.message}),e.isExpiringSecret=!1,e.expireCurrentSecret.emit(),e.showExpireSecret=!1}catch{e.isExpiringSecret=!1}}})()}get endpointSecret(){return this.endpointDetails?.secrets?.find(e=>!e.expires_at)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(Z.n),t.Y36(D.m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["convoy-endpoint-secret"]],inputs:{endpointDetails:"endpointDetails"},outputs:{expireCurrentSecret:"expireCurrentSecret",closeSecretModal:"closeSecretModal"},standalone:!0,features:[t.jDz],decls:14,vars:5,consts:[["convoy-modal","",3,"closeModal"],["convoy-modal-header",""],[1,"font-semibold","capitalize"],["convoy-button","","texture","light","size","sm",1,"px-8px","!py-10px",3,"click"],["src","/assets/img/modal-close-icon.svg","alt","close icon"],[1,"p-20px"],[1,"flex","items-center","justify-between","w-full","h-50px","bg-[#F7F9FC]","border","border-grey-10","rounded-[6px]","px-16px","mb-12px","last-of-type:mb-8px"],[1,"text-16","text-grey-60","font-normal","whitespace-nowrap","w-250px","overflow-hidden","text-ellipsis"],[3,"text"],["convoy-button","","size","xs","fill","text","color","danger",3,"click",4,"ngIf"],[4,"ngIf"],["class","flex justify-end mt-38px mb-140px",4,"ngIf"],["convoy-button","","size","xs","fill","text","color","danger",3,"click"],[1,"mt-24px",3,"formGroup"],["label","Expiry duration","name","expiration","formControlName","expiration","errorMessage","Please select an expiry duration",3,"options","required","selectedOption"],[1,"flex","justify-end","mt-38px","mb-140px"],["convoy-button","","fill","outline","class","mr-16px transition-all duration-300 hover:text-danger-100 hover:border-danger-100",3,"click",4,"ngIf"],["convoy-button","","color","danger","class","mr-16px",3,"click",4,"ngIf"],["convoy-button","",3,"clickItem",4,"ngIf"],["convoy-button","","fill","outline",1,"mr-16px","transition-all","duration-300","hover:text-danger-100","hover:border-danger-100",3,"click"],["convoy-button","","color","danger",1,"mr-16px",3,"click"],["convoy-button","",3,"clickItem"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("closeModal",function(){return o.closeSecretModal.emit()}),t.TgZ(1,"div",1)(2,"h2",2),t._uU(3,"Endpoint Secret"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return o.closeSecretModal.emit()}),t._UZ(5,"img",4),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"span",7),t._uU(9),t.qZA(),t._UZ(10,"convoy-copy-button",8),t.qZA(),t.YNc(11,S,2,0,"button",9),t.YNc(12,w,3,3,"ng-container",10),t.YNc(13,M,4,3,"div",11),t.qZA()()),2&e&&(t.xp6(9),t.Oqu((null==o.endpointSecret?null:o.endpointSecret.value)||""),t.xp6(1),t.Q6J("text",(null==o.endpointSecret?null:o.endpointSecret.value)||""),t.xp6(1),t.Q6J("ngIf",!o.showExpireSecret),t.xp6(1),t.Q6J("ngIf",o.showExpireSecret),t.xp6(1),t.Q6J("ngIf",o.showExpireSecret))},dependencies:[i.ez,i.O5,l.UX,l._Y,l.JJ,l.JL,l.Q7,l.sg,l.u,u.r,a.H,g.zS,g.Rb,y.K]}),n})();var C=c(7888),O=c(455),N=c(6440);const J=function(n){return{"cursor-wait":n}};function q(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.sendTestEvent())}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.isSendingTestEvent)("ngClass",t.VKq(3,J,e.isSendingTestEvent)),t.xp6(1),t.hij(" ",e.isSendingTestEvent?"Sending Event":"Send Test Event"," ")}}function P(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.toggleEndpoint())}),t.O4$(),t.TgZ(1,"svg",27),t._UZ(2,"use",35),t.qZA(),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",e.isTogglingEndpoint),t.xp6(3),t.hij(" ",e.isTogglingEndpoint?"Pausing endpoint...":"Pause Endpoint"," ")}}function F(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.toggleEndpoint())}),t.O4$(),t.TgZ(1,"svg",27),t._UZ(2,"use",36),t.qZA(),t._uU(3),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",e.isTogglingEndpoint),t.xp6(3),t.hij(" ",e.isTogglingEndpoint?"Unpausing endpoint...":"Unpause Endpoint"," ")}}function Q(n,p){if(1&n&&(t.YNc(0,P,4,2,"button",33),t.YNc(1,F,4,2,"button",33)),2&n){const e=t.oxw(2);t.Q6J("ngIf","active"===e.endpointDetails.status),t.xp6(1),t.Q6J("ngIf","paused"===e.endpointDetails.status)}}function j(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",25)(1,"button",37),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.viewEndpointPortalLinks(r.endpointDetails.uid))}),t.O4$(),t.TgZ(2,"svg",38),t._UZ(3,"use",39),t.qZA(),t._uU(4," Open Portal Link "),t.kcU(),t._UZ(5,"img",40),t.qZA()()}}function K(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",25)(1,"button",34),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.toggleEndpoint())}),t.O4$(),t.TgZ(2,"svg",27),t._UZ(3,"use",35),t.qZA(),t._uU(4),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.isTogglingEndpoint),t.xp6(3),t.hij(" ",e.isTogglingEndpoint?"Pausing endpoint...":"Pause Endpoint"," ")}}function Y(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",25)(1,"button",34),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.toggleEndpoint())}),t.O4$(),t.TgZ(2,"svg",27),t._UZ(3,"use",36),t.qZA(),t._uU(4),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.isTogglingEndpoint),t.xp6(3),t.hij(" ",e.isTogglingEndpoint?"Unpausing endpoint...":"Unpause Endpoint"," ")}}function L(n,p){if(1&n&&(t.ynx(0),t.YNc(1,K,5,2,"li",24),t.YNc(2,Y,5,2,"li",24),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","active"===e.endpointDetails.status),t.xp6(1),t.Q6J("ngIf","paused"===e.endpointDetails.status)}}function z(n,p){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div")(2,"h3",12),t._uU(3),t.TgZ(4,"span",13),t._uU(5),t.qZA()(),t.TgZ(6,"p",14),t._uU(7),t.qZA()(),t.TgZ(8,"div",15)(9,"div",16),t.YNc(10,q,2,5,"button",17),t.YNc(11,Q,2,2,"ng-template",null,18,t.W1O),t.TgZ(13,"div",19)(14,"button",20),t.O4$(),t.TgZ(15,"svg",21),t._UZ(16,"use",22),t.qZA()(),t.kcU(),t.TgZ(17,"ul",23),t.YNc(18,j,6,0,"li",24),t.YNc(19,L,3,2,"ng-container",8),t.TgZ(20,"li",25)(21,"button",26),t.O4$(),t.TgZ(22,"svg",27),t._UZ(23,"use",28),t.qZA(),t._uU(24," Edit "),t.qZA()(),t.kcU(),t.TgZ(25,"li")(26,"button",29),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.showDeleteModal=!0)}),t.O4$(),t.TgZ(27,"svg",30),t._UZ(28,"use",31),t.qZA(),t._uU(29," Delete "),t.qZA()()()()()(),t.BQk()}if(2&n){const e=t.MAs(12),o=t.oxw();t.xp6(3),t.hij(" ",o.endpointDetails.title," "),t.xp6(1),t.Q6J("type","active"===o.endpointDetails.status?"success":"grey"),t.xp6(1),t.Oqu(o.endpointDetails.status),t.xp6(2),t.Oqu(o.endpointDetails.target_url),t.xp6(3),t.Q6J("ngIf","outgoing"===(null==o.privateService.activeProjectDetails?null:o.privateService.activeProjectDetails.type))("ngIfElse",e),t.xp6(8),t.Q6J("ngIf","outgoing"===(null==o.privateService.activeProjectDetails?null:o.privateService.activeProjectDetails.type)),t.xp6(1),t.Q6J("ngIf","outgoing"===(null==o.privateService.activeProjectDetails?null:o.privateService.activeProjectDetails.type)),t.xp6(2),t.Q6J("routerLink","./edit")("relativeTo",o.route)}}function G(n,p){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"convoy-skeleton-loader",42),t.TgZ(2,"div",43),t._UZ(3,"convoy-skeleton-loader",44)(4,"convoy-skeleton-loader",44)(5,"convoy-skeleton-loader",45),t.qZA()())}function B(n,p){1&n&&(t.TgZ(0,"div")(1,"div",46)(2,"div")(3,"p",47),t._uU(4,"EVENTS COUNT"),t.qZA(),t._UZ(5,"convoy-skeleton-loader",48),t.qZA(),t.TgZ(6,"div")(7,"p",47),t._uU(8,"AUTHENTICATION"),t.qZA(),t._UZ(9,"convoy-skeleton-loader",48),t.qZA(),t.TgZ(10,"div")(11,"p",47),t._uU(12,"SIGNATURE FORMAT"),t.qZA(),t._UZ(13,"convoy-skeleton-loader",48),t.qZA(),t.TgZ(14,"div")(15,"p",47),t._uU(16,"ALERT CONFIG"),t.qZA(),t._UZ(17,"convoy-skeleton-loader",48),t.qZA(),t.TgZ(18,"div")(19,"p",47),t._uU(20,"SECRET"),t.qZA(),t._UZ(21,"convoy-skeleton-loader",48),t.qZA()()())}function H(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",46)(2,"div")(3,"p",47),t._uU(4,"EVENTS COUNT"),t.qZA(),t.TgZ(5,"p",49),t._uU(6),t.qZA()(),t.TgZ(7,"div")(8,"p",47),t._uU(9,"AUTHENTICATION"),t.qZA(),t.TgZ(10,"p",49),t._uU(11),t.qZA()(),t.TgZ(12,"div")(13,"p",47),t._uU(14,"SIGNATURE FORMAT"),t.qZA(),t.TgZ(15,"p",49),t._uU(16),t.qZA()(),t.TgZ(17,"div")(18,"p",47),t._uU(19,"ALERT CONFIG"),t.qZA(),t.TgZ(20,"p",49),t._uU(21),t.qZA()(),t.TgZ(22,"div")(23,"p",47),t._uU(24,"SECRET"),t.qZA(),t.TgZ(25,"button",50),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.showEndpointSecret=!0)}),t._uU(26," View Secret "),t._UZ(27,"img",51),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Oqu(e.endpointDetails.events||0),t.xp6(5),t.Oqu(e.endpointDetails.authentication?"Api Key":"-"),t.xp6(5),t.Oqu(e.endpointDetails.advanced_signatures?"Advanced":"Simple"),t.xp6(5),t.Oqu(e.endpointDetails.support_email||"-")}}function R(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"div",59)(1,"convoy-button",60),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cliKeys.generateKeyModal=!0)}),t._uU(2,"Generate Key"),t.qZA()()}}function $(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"li",61)(1,"button",62),t.NdJ("click",function(){const h=t.CHM(e).$implicit,b=t.oxw(2);return t.KtG(b.toggleActiveTab(h))}),t.TgZ(2,"span",63),t._uU(3),t.qZA()()()}if(2&n){const e=p.$implicit,o=t.oxw(2);t.xp6(1),t.Tol(o.activeTab===e?"active":""),t.xp6(2),t.Oqu(e)}}function W(n,p){1&n&&(t.ynx(0),t._UZ(1,"convoy-cli-keys"),t.BQk())}function V(n,p){1&n&&(t.ynx(0),t._UZ(1,"convoy-devices"),t.BQk())}function X(n,p){if(1&n&&(t.ynx(0),t.TgZ(1,"div",52)(2,"div",53)(3,"h3",54),t._uU(4,"Command Line"),t.qZA(),t.YNc(5,R,3,0,"div",55),t.qZA(),t.TgZ(6,"div",56)(7,"ul",57),t.YNc(8,$,4,3,"li",58),t.qZA()()(),t.YNc(9,W,2,0,"ng-container",8),t.YNc(10,V,2,0,"ng-container",8),t.BQk()),2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf","Keys"===e.activeTab),t.xp6(3),t.Q6J("ngForOf",e.tabs),t.xp6(1),t.Q6J("ngIf","Keys"===e.activeTab),t.xp6(1),t.Q6J("ngIf","devices"===e.activeTab)}}function tt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"convoy-endpoint-secret",64),t.NdJ("closeSecretModal",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.showEndpointSecret=!1)})("expireCurrentSecret",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.getEndpointDetails())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("endpointDetails",e.endpointDetails)}}function et(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"app-delete-modal",65),t.NdJ("closeModal",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.showDeleteModal=!1)})("deleteData",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.deleteEndpoint())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isLoading",e.isDeletingEndpoint)("deleteText","delete \u201c"+(null==e.endpointDetails?null:e.endpointDetails.title)+"\u201d")}}let nt=(()=>{class n{constructor(e,o,r,h,b){this.privateService=e,this.endpointDetailsService=o,this.route=r,this.router=h,this.generalService=b,this.isLoadingEndpointDetails=!1,this.isCliAvailable=!1,this.showAddEventModal=!1,this.isDeletingEndpoint=!1,this.showDeleteModal=!1,this.showEndpointSecret=!1,this.endpointId=this.route.snapshot.params.id,this.screenWidth=window.innerWidth,this.tabs=["Keys","devices"],this.activeTab="Keys",this.isSendingTestEvent=!1,this.isTogglingEndpoint=!1}ngOnInit(){var e=this;return(0,s.Z)(function*(){e.isLoadingEndpointDetails=!0,e.isCliAvailable=yield e.privateService.getFlag("can_create_cli_api_key"),e.getEndpointDetails()})()}getEndpointDetails(){var e=this;return(0,s.Z)(function*(){e.isLoadingEndpointDetails=!0;try{const o=yield e.endpointDetailsService.getEndpoint(e.endpointId);e.endpointDetails=o.data;const r=o.data.secrets;e.secretKey=r[r.length-1],e.isLoadingEndpointDetails=!1}catch{e.isLoadingEndpointDetails=!1}})()}deleteEndpoint(){var e=this;return(0,s.Z)(function*(){if(e.endpointDetails){e.isDeletingEndpoint=!0;try{const o=yield e.endpointDetailsService.deleteEndpoint(e.endpointDetails?.uid||"");e.generalService.showNotification({style:"success",message:o.message}),e.showDeleteModal=!1,e.isDeletingEndpoint=!1,e.goBack()}catch{e.isDeletingEndpoint=!1}}})()}viewEndpointEvents(e){e&&this.router.navigate(["../../events"],{relativeTo:this.route,queryParams:{eventDelsEndpoint:e}})}viewEndpointPortalLinks(e){e&&this.router.navigate(["../../portal-links"],{relativeTo:this.route,queryParams:{linksEndpoint:e}})}toggleActiveTab(e){this.activeTab=e}goBack(){this.router.navigate(["../../endpoints"],{relativeTo:this.route})}sendTestEvent(){var e=this;return(0,s.Z)(function*(){const o={data:{data:"test event from Convoy",convoy:"https://getconvoy.io",amount:1e3},endpoint_id:e.endpointDetails?.uid,event_type:"test.convoy"};e.isSendingTestEvent=!0;try{const r=yield e.endpointDetailsService.sendEvent({body:o});e.generalService.showNotification({message:r.message,style:"success"}),e.isSendingTestEvent=!1}catch{e.isSendingTestEvent=!1}})()}toggleEndpoint(){var e=this;return(0,s.Z)(function*(){if(e.isTogglingEndpoint=!0,e.endpointDetails?.uid)try{const o=yield e.endpointDetailsService.toggleEndpoint(e.endpointDetails?.uid);e.endpointDetails=o.data,e.generalService.showNotification({message:`${e.endpointDetails?.title} status updated successfully`,style:"success"}),e.isTogglingEndpoint=!1}catch{e.isTogglingEndpoint=!1}})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.i),t.Y36(Z.n),t.Y36(_.gz),t.Y36(_.F0),t.Y36(D.m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["convoy-endpoint-details"]],viewQuery:function(e,o){if(1&e&&t.Gf(d.I,5),2&e){let r;t.iGM(r=t.CRH())&&(o.cliKeys=r.first)}},standalone:!0,features:[t.jDz],decls:23,vars:9,consts:[[1,"text-12","font-medium","flex","items-center","mb-24px","uppercase"],["routerLink","/projects",1,"font-medium","cursor-pointer"],["width","16","height","16",1,"mx-4px","fill-dark-grey"],[0,"xlink","href","#arrow-right-icon"],[1,"cursor-pointer","font-medium",3,"click"],[1,"font-medium","text-primary-100"],["convoy-card","",1,"p-20px","mb-20px"],[1,"flex","justify-between","items-center","mb-24px","border-b","border-b-grey-20","pb-12px"],[4,"ngIf"],["class","flex justify-between w-full",4,"ngIf"],[3,"endpointDetails","closeSecretModal","expireCurrentSecret",4,"ngIf"],[3,"isLoading","deleteText","closeModal","deleteData",4,"ngIf"],[1,"font-semibold","capitalize","flex","items-center"],["convoy-tag","",1,"ml-8px","text-10",3,"type"],[1,"text-12","text-grey-60","mt-6px"],[1,"flex","justify-end","items-center"],[1,"flex","items-center","border","border-primary-100","rounded-[10px]","h-34px"],["convoy-button","","fill","clear","size","sm","class","!px-8px !py-0 my-8px",3,"disabled","ngClass","click",4,"ngIf","ngIfElse"],["pause_endpoint",""],["convoy-dropdown","","position","right","size","md",1,"border-l","border-primary-100"],["dropdownTrigger","","convoy-button","","size","sm","fill","clear",1,"!px-6px","!py-0"],["width","16","height","16",1,"fill-primary-100"],[0,"xlink","href","#angle-arrow-down-icon"],["dropdownOptions",""],["class","border-b border-grey-20",4,"ngIf"],[1,"border-b","border-grey-20"],["convoy-dropdown-option","","convoy-button","","size","sm","fill","clear",1,"w-full","!justify-start",3,"routerLink","relativeTo"],["width","16","height","16",1,"mr-8px","fill-primary-100"],[0,"xlink","href","#edit-icon"],["convoy-dropdown-option","","convoy-button","","size","sm","fill","clear","color","danger",1,"w-full","!justify-start",3,"click"],["width","16","height","16",1,"mr-8px","fill-danger-100"],[0,"xlink","href","#delete-icon"],["convoy-button","","fill","clear","size","sm",1,"!px-8px","!py-0","my-8px",3,"disabled","ngClass","click"],["convoy-button","","size","sm","fill","clear","class","w-full !justify-start",3,"disabled","click",4,"ngIf"],["convoy-button","","size","sm","fill","clear",1,"w-full","!justify-start",3,"disabled","click"],[0,"xlink","href","#pause-icon"],[0,"xlink","href","#play-icon"],["convoy-dropdown-option","","convoy-button","","size","sm","fill","clear",1,"w-full","!justify-start",3,"click"],["width","18","height","18",1,"stroke-primary-100","mr-8px"],[0,"xlink","href","#portal-icon"],["src","/assets/img/arrow-up-right.svg","alt","link out",1,"w-12px","ml-8px"],[1,"flex","justify-between","w-full"],["className","mt-10px w-100px h-20px"],[1,"flex"],["className","mt-10px w-80px h-20px mr-20px"],["className","mt-10px w-80px h-20px"],[1,"flex","items-center","flex-wrap","justify-between","mb-32px"],[1,"text-grey-40","text-12","font-light"],["className","mt-10px w-120px h-20px"],[1,"text-black","text-14","font-normal"],["convoy-button","","size","sm","fill","text",3,"click"],["src","/assets/img/arrow-up-right.svg","alt","link out",1,"w-14px"],["convoy-card","",1,"mt-24px","rounded-bl-[0]","rounded-br-[0]"],[1,"flex","justify-between","items-center","px-24px","pt-24px"],[1,"font-semibold"],["class","text-grey-40 text-14 font-medium whitespace-nowrap ml-auto pr-14px",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"flex","flex-row","m-auto","w-full","mt-24px"],["class","mr-24px !list-none first-of-type:ml-24px last-of-type:mr-0",4,"ngFor","ngForOf"],[1,"text-grey-40","text-14","font-medium","whitespace-nowrap","ml-auto","pr-14px"],["size","sm","fill","outline",1,"mt-6px",3,"click"],[1,"mr-24px","!list-none","first-of-type:ml-24px","last-of-type:mr-0"],[1,"pb-16px","pt-10px","flex","items-center",3,"click"],[1,"text-14","text-left","capitalize","text-grey-60","tracking-[0.02em]","mobile:min-w-[80px]"],[3,"endpointDetails","closeSecretModal","expireCurrentSecret"],[3,"isLoading","deleteText","closeModal","deleteData"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2,"Projects"),t.qZA(),t.O4$(),t.TgZ(3,"svg",2),t._UZ(4,"use",3),t.qZA(),t._uU(5),t.TgZ(6,"svg",2),t._UZ(7,"use",3),t.qZA(),t.kcU(),t.TgZ(8,"a",4),t.NdJ("click",function(){return o.goBack()}),t._uU(9,"Endpoints"),t.qZA(),t.O4$(),t.TgZ(10,"svg",2),t._UZ(11,"use",3),t.qZA(),t.kcU(),t.TgZ(12,"span",5),t._uU(13),t.qZA()(),t.TgZ(14,"div",6)(15,"div",7),t.YNc(16,z,30,10,"ng-container",8),t.YNc(17,G,6,0,"div",9),t.qZA(),t.YNc(18,B,22,0,"div",8),t.YNc(19,H,28,4,"div",8),t.qZA(),t.YNc(20,X,11,4,"ng-container",8),t.YNc(21,tt,1,1,"convoy-endpoint-secret",10),t.YNc(22,et,1,2,"app-delete-modal",11)),2&e&&(t.xp6(5),t.hij(" ",null==o.privateService.activeProjectDetails?null:o.privateService.activeProjectDetails.name," "),t.xp6(8),t.Oqu((null==o.endpointDetails?null:o.endpointDetails.title)||"Endpoint"),t.xp6(3),t.Q6J("ngIf",!o.isLoadingEndpointDetails&&o.endpointDetails),t.xp6(1),t.Q6J("ngIf",!o.endpointDetails),t.xp6(1),t.Q6J("ngIf",o.isLoadingEndpointDetails),t.xp6(1),t.Q6J("ngIf",!o.isLoadingEndpointDetails&&o.endpointDetails),t.xp6(1),t.Q6J("ngIf",o.isCliAvailable),t.xp6(1),t.Q6J("ngIf",o.showEndpointSecret&&o.endpointDetails),t.xp6(1),t.Q6J("ngIf",o.showDeleteModal))},dependencies:[i.ez,i.mk,i.sg,i.O5,_.Bz,_.rH,_.yS,f.A,u.r,v.t,d.I,x.Z,m.z,I,C.J,C.o,O.Z]}),n})()},5409:(T,E,c)=>{c.d(E,{n:()=>_});var s=c(9369),i=c(4151),f=c(3755);let _=(()=>{class u{constructor(d){this.http=d}getEndpoint(d){var x=this;return new Promise(function(){var m=(0,s.Z)(function*(t,l){try{return t(yield x.http.request({url:`/endpoints/${d}`,method:"get",level:"org_project"}))}catch(a){return l(a)}});return function(t,l){return m.apply(this,arguments)}}())}deleteEndpoint(d){var x=this;return new Promise(function(){var m=(0,s.Z)(function*(t,l){try{return t(yield x.http.request({url:`/endpoints/${d}`,method:"delete",level:"org_project"}))}catch(a){return l(a)}});return function(t,l){return m.apply(this,arguments)}}())}expireSecret(d){var x=this;return new Promise(function(){var m=(0,s.Z)(function*(t,l){try{return t(yield x.http.request({url:`/endpoints/${d.endpointId}/expire_secret`,method:"put",body:d.body,level:"org_project"}))}catch(a){return l(a)}});return function(t,l){return m.apply(this,arguments)}}())}sendEvent(d){var x=this;return new Promise(function(){var m=(0,s.Z)(function*(t,l){try{return t(yield x.http.request({url:"/events",body:d.body,method:"post",level:"org_project"}))}catch(a){return l(a)}});return function(t,l){return m.apply(this,arguments)}}())}toggleEndpoint(d){var x=this;return new Promise(function(){var m=(0,s.Z)(function*(t,l){try{return t(yield x.http.request({url:`/endpoints/${d}/pause`,method:"put",level:"org_project"}))}catch(a){return l(a)}});return function(t,l){return m.apply(this,arguments)}}())}}return u.\u0275fac=function(d){return new(d||u)(i.LFG(f.O))},u.\u0275prov=i.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);
//# sourceMappingURL=612.36a9a967881d61d5.js.map