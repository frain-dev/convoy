(self.webpackChunkconvoy_ng=self.webpackChunkconvoy_ng||[]).push([[755],{1172:(p,A,s)=>{p.exports=s(6835)},6452:(p,A,s)=>{"use strict";var r=s(7717),h=s(1597),l=s(6738),t=s(6715),i=s(260),f=s(3458),d=s(1053),a=s(6704),c=s(4218),m=s(1556),u=s(5388);p.exports=function(n){return new Promise(function(O,R){var N,P=n.data,g=n.headers,w=n.responseType;function j(){n.cancelToken&&n.cancelToken.unsubscribe(N),n.signal&&n.signal.removeEventListener("abort",N)}r.isFormData(P)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var E=new XMLHttpRequest;if(n.auth){var U=n.auth.username||"",I=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";g.Authorization="Basic "+btoa(U+":"+I)}var D=i(n.baseURL,n.url);function M(){if(E){var C="getAllResponseHeaders"in E?f(E.getAllResponseHeaders()):null;h(function(o){O(o),j()},function(o){R(o),j()},{data:w&&"text"!==w&&"json"!==w?E.response:E.responseText,status:E.status,statusText:E.statusText,headers:C,config:n,request:E}),E=null}}if(E.open(n.method.toUpperCase(),t(D,n.params,n.paramsSerializer),!0),E.timeout=n.timeout,"onloadend"in E?E.onloadend=M:E.onreadystatechange=function(){!E||4!==E.readyState||0===E.status&&(!E.responseURL||0!==E.responseURL.indexOf("file:"))||setTimeout(M)},E.onabort=function(){!E||(R(new c("Request aborted",c.ECONNABORTED,n,E)),E=null)},E.onerror=function(){R(new c("Network Error",c.ERR_NETWORK,n,E,E)),E=null},E.ontimeout=function(){var B=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";n.timeoutErrorMessage&&(B=n.timeoutErrorMessage),R(new c(B,(n.transitional||a).clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,n,E)),E=null},r.isStandardBrowserEnv()){var H=(n.withCredentials||d(D))&&n.xsrfCookieName?l.read(n.xsrfCookieName):void 0;H&&(g[n.xsrfHeaderName]=H)}"setRequestHeader"in E&&r.forEach(g,function(B,L){typeof P>"u"&&"content-type"===L.toLowerCase()?delete g[L]:E.setRequestHeader(L,B)}),r.isUndefined(n.withCredentials)||(E.withCredentials=!!n.withCredentials),w&&"json"!==w&&(E.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&E.addEventListener("progress",n.onDownloadProgress),"function"==typeof n.onUploadProgress&&E.upload&&E.upload.addEventListener("progress",n.onUploadProgress),(n.cancelToken||n.signal)&&(N=function(C){!E||(R(!C||C&&C.type?new m:C),E.abort(),E=null)},n.cancelToken&&n.cancelToken.subscribe(N),n.signal&&(n.signal.aborted?N():n.signal.addEventListener("abort",N))),P||(P=null);var F=u(D);F&&-1===["http","https","file"].indexOf(F)?R(new c("Unsupported protocol "+F+":",c.ERR_BAD_REQUEST,n)):E.send(P)})}},6835:(p,A,s)=>{"use strict";var r=s(7717),h=s(1491),l=s(5610),t=s(8616),d=function f(a){var c=new l(a),m=h(l.prototype.request,c);return r.extend(m,l.prototype,c),r.extend(m,c),m.create=function(e){return f(t(a,e))},m}(s(5068));d.Axios=l,d.CanceledError=s(1556),d.CancelToken=s(7671),d.isCancel=s(2035),d.VERSION=s(760).version,d.toFormData=s(7349),d.AxiosError=s(4218),d.Cancel=d.CanceledError,d.all=function(c){return Promise.all(c)},d.spread=s(3272),d.isAxiosError=s(4538),p.exports=d,p.exports.default=d},7671:(p,A,s)=>{"use strict";var r=s(1556);function h(l){if("function"!=typeof l)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(d){t=d});var i=this;this.promise.then(function(f){if(i._listeners){var d,a=i._listeners.length;for(d=0;d<a;d++)i._listeners[d](f);i._listeners=null}}),this.promise.then=function(f){var d,a=new Promise(function(c){i.subscribe(c),d=c}).then(f);return a.cancel=function(){i.unsubscribe(d)},a},l(function(d){i.reason||(i.reason=new r(d),t(i.reason))})}h.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},h.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},h.prototype.unsubscribe=function(t){if(this._listeners){var i=this._listeners.indexOf(t);-1!==i&&this._listeners.splice(i,1)}},h.source=function(){var t;return{token:new h(function(d){t=d}),cancel:t}},p.exports=h},1556:(p,A,s)=>{"use strict";var r=s(4218);function l(t){r.call(this,t??"canceled",r.ERR_CANCELED),this.name="CanceledError"}s(7717).inherits(l,r,{__CANCEL__:!0}),p.exports=l},2035:p=>{"use strict";p.exports=function(s){return!(!s||!s.__CANCEL__)}},5610:(p,A,s)=>{"use strict";var r=s(7717),h=s(6715),l=s(7427),t=s(7462),i=s(8616),f=s(260),d=s(9023),a=d.validators;function c(m){this.defaults=m,this.interceptors={request:new l,response:new l}}c.prototype.request=function(u,e){"string"==typeof u?(e=e||{}).url=u:e=u||{},(e=i(this.defaults,e)).method=e.method?e.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var n=e.transitional;void 0!==n&&d.assertOptions(n,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var v=[],O=!0;this.interceptors.request.forEach(function(U){"function"==typeof U.runWhen&&!1===U.runWhen(e)||(O=O&&U.synchronous,v.unshift(U.fulfilled,U.rejected))});var P,R=[];if(this.interceptors.response.forEach(function(U){R.push(U.fulfilled,U.rejected)}),!O){var g=[t,void 0];for(Array.prototype.unshift.apply(g,v),g=g.concat(R),P=Promise.resolve(e);g.length;)P=P.then(g.shift(),g.shift());return P}for(var w=e;v.length;){var N=v.shift(),j=v.shift();try{w=N(w)}catch(E){j(E);break}}try{P=t(w)}catch(E){return Promise.reject(E)}for(;R.length;)P=P.then(R.shift(),R.shift());return P},c.prototype.getUri=function(u){u=i(this.defaults,u);var e=f(u.baseURL,u.url);return h(e,u.params,u.paramsSerializer)},r.forEach(["delete","get","head","options"],function(u){c.prototype[u]=function(e,n){return this.request(i(n||{},{method:u,url:e,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(u){function e(n){return function(O,R,P){return this.request(i(P||{},{method:u,headers:n?{"Content-Type":"multipart/form-data"}:{},url:O,data:R}))}}c.prototype[u]=e(),c.prototype[u+"Form"]=e(!0)}),p.exports=c},4218:(p,A,s)=>{"use strict";var r=s(7717);function h(i,f,d,a,c){Error.call(this),this.message=i,this.name="AxiosError",f&&(this.code=f),d&&(this.config=d),a&&(this.request=a),c&&(this.response=c)}r.inherits(h,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var l=h.prototype,t={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){t[i]={value:i}}),Object.defineProperties(h,t),Object.defineProperty(l,"isAxiosError",{value:!0}),h.from=function(i,f,d,a,c,m){var u=Object.create(l);return r.toFlatObject(i,u,function(n){return n!==Error.prototype}),h.call(u,i.message,f,d,a,c),u.name=i.name,m&&Object.assign(u,m),u},p.exports=h},7427:(p,A,s)=>{"use strict";var r=s(7717);function h(){this.handlers=[]}h.prototype.use=function(t,i,f){return this.handlers.push({fulfilled:t,rejected:i,synchronous:!!f&&f.synchronous,runWhen:f?f.runWhen:null}),this.handlers.length-1},h.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},h.prototype.forEach=function(t){r.forEach(this.handlers,function(f){null!==f&&t(f)})},p.exports=h},260:(p,A,s)=>{"use strict";var r=s(3993),h=s(2330);p.exports=function(t,i){return t&&!r(i)?h(t,i):i}},7462:(p,A,s)=>{"use strict";var r=s(7717),h=s(8906),l=s(2035),t=s(5068),i=s(1556);function f(d){if(d.cancelToken&&d.cancelToken.throwIfRequested(),d.signal&&d.signal.aborted)throw new i}p.exports=function(a){return f(a),a.headers=a.headers||{},a.data=h.call(a,a.data,a.headers,a.transformRequest),a.headers=r.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(u){delete a.headers[u]}),(a.adapter||t.adapter)(a).then(function(u){return f(a),u.data=h.call(a,u.data,u.headers,a.transformResponse),u},function(u){return l(u)||(f(a),u&&u.response&&(u.response.data=h.call(a,u.response.data,u.response.headers,a.transformResponse))),Promise.reject(u)})}},8616:(p,A,s)=>{"use strict";var r=s(7717);p.exports=function(l,t){t=t||{};var i={};function f(e,n){return r.isPlainObject(e)&&r.isPlainObject(n)?r.merge(e,n):r.isPlainObject(n)?r.merge({},n):r.isArray(n)?n.slice():n}function d(e){return r.isUndefined(t[e])?r.isUndefined(l[e])?void 0:f(void 0,l[e]):f(l[e],t[e])}function a(e){if(!r.isUndefined(t[e]))return f(void 0,t[e])}function c(e){return r.isUndefined(t[e])?r.isUndefined(l[e])?void 0:f(void 0,l[e]):f(void 0,t[e])}function m(e){return e in t?f(l[e],t[e]):e in l?f(void 0,l[e]):void 0}var u={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:m};return r.forEach(Object.keys(l).concat(Object.keys(t)),function(n){var v=u[n]||d,O=v(n);r.isUndefined(O)&&v!==m||(i[n]=O)}),i}},1597:(p,A,s)=>{"use strict";var r=s(4218);p.exports=function(l,t,i){var f=i.config.validateStatus;i.status&&f&&!f(i.status)?t(new r("Request failed with status code "+i.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):l(i)}},8906:(p,A,s)=>{"use strict";var r=s(7717),h=s(5068);p.exports=function(t,i,f){var d=this||h;return r.forEach(f,function(c){t=c.call(d,t,i)}),t}},5068:(p,A,s)=>{"use strict";var r=s(7717),h=s(2265),l=s(4218),t=s(6704),i=s(7349),f={"Content-Type":"application/x-www-form-urlencoded"};function d(u,e){!r.isUndefined(u)&&r.isUndefined(u["Content-Type"])&&(u["Content-Type"]=e)}var m={transitional:t,adapter:function a(){var u;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&"[object process]"===Object.prototype.toString.call(process))&&(u=s(6452)),u}(),transformRequest:[function(e,n){if(h(n,"Accept"),h(n,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return d(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var R,v=r.isObject(e),O=n&&n["Content-Type"];if((R=r.isFileList(e))||v&&"multipart/form-data"===O){var P=this.env&&this.env.FormData;return i(R?{"files[]":e}:e,P&&new P)}return v||"application/json"===O?(d(n,"application/json"),function c(u,e,n){if(r.isString(u))try{return(e||JSON.parse)(u),r.trim(u)}catch(v){if("SyntaxError"!==v.name)throw v}return(n||JSON.stringify)(u)}(e)):e}],transformResponse:[function(e){var n=this.transitional||m.transitional,R=!(n&&n.silentJSONParsing)&&"json"===this.responseType;if(R||n&&n.forcedJSONParsing&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(P){if(R)throw"SyntaxError"===P.name?l.from(P,l.ERR_BAD_RESPONSE,this,null,this.response):P}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:s(251)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){m.headers[e]={}}),r.forEach(["post","put","patch"],function(e){m.headers[e]=r.merge(f)}),p.exports=m},6704:p=>{"use strict";p.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},760:p=>{p.exports={version:"0.27.2"}},1491:p=>{"use strict";p.exports=function(s,r){return function(){for(var l=new Array(arguments.length),t=0;t<l.length;t++)l[t]=arguments[t];return s.apply(r,l)}}},6715:(p,A,s)=>{"use strict";var r=s(7717);function h(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}p.exports=function(t,i,f){if(!i)return t;var d;if(f)d=f(i);else if(r.isURLSearchParams(i))d=i.toString();else{var a=[];r.forEach(i,function(u,e){null===u||typeof u>"u"||(r.isArray(u)?e+="[]":u=[u],r.forEach(u,function(v){r.isDate(v)?v=v.toISOString():r.isObject(v)&&(v=JSON.stringify(v)),a.push(h(e)+"="+h(v))}))}),d=a.join("&")}if(d){var c=t.indexOf("#");-1!==c&&(t=t.slice(0,c)),t+=(-1===t.indexOf("?")?"?":"&")+d}return t}},2330:p=>{"use strict";p.exports=function(s,r){return r?s.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):s}},6738:(p,A,s)=>{"use strict";var r=s(7717);p.exports=r.isStandardBrowserEnv()?{write:function(t,i,f,d,a,c){var m=[];m.push(t+"="+encodeURIComponent(i)),r.isNumber(f)&&m.push("expires="+new Date(f).toGMTString()),r.isString(d)&&m.push("path="+d),r.isString(a)&&m.push("domain="+a),!0===c&&m.push("secure"),document.cookie=m.join("; ")},read:function(t){var i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},3993:p=>{"use strict";p.exports=function(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}},4538:(p,A,s)=>{"use strict";var r=s(7717);p.exports=function(l){return r.isObject(l)&&!0===l.isAxiosError}},1053:(p,A,s)=>{"use strict";var r=s(7717);p.exports=r.isStandardBrowserEnv()?function(){var i,l=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");function f(d){var a=d;return l&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return i=f(window.location.href),function(a){var c=r.isString(a)?f(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return!0}},2265:(p,A,s)=>{"use strict";var r=s(7717);p.exports=function(l,t){r.forEach(l,function(f,d){d!==t&&d.toUpperCase()===t.toUpperCase()&&(l[t]=f,delete l[d])})}},251:p=>{p.exports=null},3458:(p,A,s)=>{"use strict";var r=s(7717),h=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];p.exports=function(t){var f,d,a,i={};return t&&r.forEach(t.split("\n"),function(m){if(a=m.indexOf(":"),f=r.trim(m.substr(0,a)).toLowerCase(),d=r.trim(m.substr(a+1)),f){if(i[f]&&h.indexOf(f)>=0)return;i[f]="set-cookie"===f?(i[f]?i[f]:[]).concat([d]):i[f]?i[f]+", "+d:d}}),i}},5388:p=>{"use strict";p.exports=function(s){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return r&&r[1]||""}},3272:p=>{"use strict";p.exports=function(s){return function(h){return s.apply(null,h)}}},7349:(p,A,s)=>{"use strict";var r=s(7717);p.exports=function h(l,t){t=t||new FormData;var i=[];function f(a){return null===a?"":r.isDate(a)?a.toISOString():r.isArrayBuffer(a)||r.isTypedArray(a)?"function"==typeof Blob?new Blob([a]):Buffer.from(a):a}return function d(a,c){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==i.indexOf(a))throw Error("Circular reference detected in "+c);i.push(a),r.forEach(a,function(u,e){if(!r.isUndefined(u)){var v,n=c?c+"."+e:e;if(u&&!c&&"object"==typeof u)if(r.endsWith(e,"{}"))u=JSON.stringify(u);else if(r.endsWith(e,"[]")&&(v=r.toArray(u)))return void v.forEach(function(O){!r.isUndefined(O)&&t.append(n,f(O))});d(u,n)}}),i.pop()}else t.append(c,f(a))}(l),t}},9023:(p,A,s)=>{"use strict";var r=s(760).version,h=s(4218),l={};["object","boolean","number","function","string","symbol"].forEach(function(f,d){l[f]=function(c){return typeof c===f||"a"+(d<1?"n ":" ")+f}});var t={};l.transitional=function(d,a,c){function m(u,e){return"[Axios v"+r+"] Transitional option '"+u+"'"+e+(c?". "+c:"")}return function(u,e,n){if(!1===d)throw new h(m(e," has been removed"+(a?" in "+a:"")),h.ERR_DEPRECATED);return a&&!t[e]&&(t[e]=!0,console.warn(m(e," has been deprecated since v"+a+" and will be removed in the near future"))),!d||d(u,e,n)}},p.exports={assertOptions:function i(f,d,a){if("object"!=typeof f)throw new h("options must be an object",h.ERR_BAD_OPTION_VALUE);for(var c=Object.keys(f),m=c.length;m-- >0;){var u=c[m],e=d[u];if(e){var n=f[u],v=void 0===n||e(n,u,f);if(!0!==v)throw new h("option "+u+" must be "+v,h.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new h("Unknown option "+u,h.ERR_BAD_OPTION)}},validators:l}},7717:(p,A,s)=>{"use strict";var o,r=s(1491),h=Object.prototype.toString,l=(o=Object.create(null),function(y){var x=h.call(y);return o[x]||(o[x]=x.slice(8,-1).toLowerCase())});function t(o){return o=o.toLowerCase(),function(x){return l(x)===o}}function i(o){return Array.isArray(o)}function f(o){return typeof o>"u"}var a=t("ArrayBuffer");function e(o){return null!==o&&"object"==typeof o}function n(o){if("object"!==l(o))return!1;var y=Object.getPrototypeOf(o);return null===y||y===Object.prototype}var v=t("Date"),O=t("File"),R=t("Blob"),P=t("FileList");function g(o){return"[object Function]"===h.call(o)}var j=t("URLSearchParams");function I(o,y){if(!(null===o||typeof o>"u"))if("object"!=typeof o&&(o=[o]),i(o))for(var x=0,T=o.length;x<T;x++)y.call(null,o[x],x,o);else for(var S in o)Object.prototype.hasOwnProperty.call(o,S)&&y.call(null,o[S],S,o)}var _=function(o){return function(y){return o&&y instanceof o}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));p.exports={isArray:i,isArrayBuffer:a,isBuffer:function d(o){return null!==o&&!f(o)&&null!==o.constructor&&!f(o.constructor)&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o)},isFormData:function N(o){var y="[object FormData]";return o&&("function"==typeof FormData&&o instanceof FormData||h.call(o)===y||g(o.toString)&&o.toString()===y)},isArrayBufferView:function c(o){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer&&a(o.buffer)},isString:function m(o){return"string"==typeof o},isNumber:function u(o){return"number"==typeof o},isObject:e,isPlainObject:n,isUndefined:f,isDate:v,isFile:O,isBlob:R,isFunction:g,isStream:function w(o){return e(o)&&g(o.pipe)},isURLSearchParams:j,isStandardBrowserEnv:function U(){return(!(typeof navigator<"u")||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&typeof window<"u"&&typeof document<"u"},forEach:I,merge:function D(){var o={};function y(S,b){o[b]=n(o[b])&&n(S)?D(o[b],S):n(S)?D({},S):i(S)?S.slice():S}for(var x=0,T=arguments.length;x<T;x++)I(arguments[x],y);return o},extend:function M(o,y,x){return I(y,function(S,b){o[b]=x&&"function"==typeof S?r(S,x):S}),o},trim:function E(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")},stripBOM:function H(o){return 65279===o.charCodeAt(0)&&(o=o.slice(1)),o},inherits:function F(o,y,x,T){o.prototype=Object.create(y.prototype,T),o.prototype.constructor=o,x&&Object.assign(o.prototype,x)},toFlatObject:function C(o,y,x){var T,S,b,W={};y=y||{};do{for(S=(T=Object.getOwnPropertyNames(o)).length;S-- >0;)W[b=T[S]]||(y[b]=o[b],W[b]=!0);o=Object.getPrototypeOf(o)}while(o&&(!x||x(o,y))&&o!==Object.prototype);return y},kindOf:l,kindOfTest:t,endsWith:function B(o,y,x){o=String(o),(void 0===x||x>o.length)&&(x=o.length);var T=o.indexOf(y,x-=y.length);return-1!==T&&T===x},toArray:function L(o){if(!o)return null;var y=o.length;if(f(y))return null;for(var x=new Array(y);y-- >0;)x[y]=o[y];return x},isTypedArray:_,isFileList:P}},7590:(p,A,s)=>{"use strict";s.d(A,{Y:()=>h});var r=s(4151);let h=(()=>{class l{constructor(){}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},3755:(p,A,s)=>{"use strict";s.d(A,{O:()=>c});var r=s(9369),h=s(2340),l=s(1172),t=s.n(l),i=s(4151),f=s(7205),d=s(4330),a=s(7590);let c=(()=>{class m{constructor(e,n,v,O){this.router=e,this.generalService=n,this.route=v,this.projectService=O,this.APIURL=`${h.N.production?location.origin:"http://localhost:5005"}/ui`,this.APP_PORTAL_APIURL=`${h.N.production?location.origin:"http://localhost:5005"}/portal-api`,this.token=this.route.snapshot.queryParams?.token}authDetails(){const e=localStorage.getItem("CONVOY_AUTH_TOKENS");if(e&&"undefined"!==e){const n=JSON.parse(e);return{access_token:n.access_token,refresh_token:n.refresh_token,authState:!0}}return{authState:!1}}buildRequestQuery(e){if(!e||e&&0==Object.getOwnPropertyNames(e).length)return"";this.token&&(e.token=this.token);const n=Object.fromEntries(Object.entries(e).filter(([O,R])=>""!==R&&null!=R&&"object"!=typeof R));let v="";return Object.keys(e).forEach(O=>"object"==typeof e[O]&&e[O]?.forEach(R=>v+=`&${O}=${R}`)),new URLSearchParams(n).toString()+v}getOrganisation(){let e=localStorage.getItem("CONVOY_ORG");return e?JSON.parse(e):null}buildRequestPath(e){if(!e)return"";const n=this.getOrganisation().uid;if("org"===e&&!n||"org_project"===e&&(""===n||!this.projectService.activeProjectDetails?.uid))return"error";switch(e){case"org":return`/organisations/${n}`;case"org_project":return`/organisations/${n}/projects/${this.projectService.activeProjectDetails?.uid}`;default:return""}}buildURL(e){if(e.isOut)return e.url;if(this.token)return`${this.token?this.APP_PORTAL_APIURL:this.APIURL}${e.url}${e.query?"?"+this.buildRequestQuery(e.query):""}`;if(!e.level)return`${this.APIURL}${e.url}${e.query?"?"+this.buildRequestQuery(e.query):""}`;const n=this.buildRequestPath(e.level);return"error"===n?"error":`${this.APIURL}${n}${e.url}${e.query?"?"+this.buildRequestQuery(e.query):""}`}request(e){var n=this;return(0,r.Z)(function*(){return e.hideNotification=!!e.hideNotification,new Promise(function(){var v=(0,r.Z)(function*(O,R){try{const P=n.setupAxios({hideNotification:e.hideNotification}),g={Authorization:`Bearer ${n.token||n.authDetails()?.access_token}`},w=n.buildURL(e);if("error"===w)return;const{data:N}=yield P.request({method:e.method,headers:g,url:w,data:e.body});O(N)}catch(P){return t().isAxiosError(P)?(console.log("error message: ",P.message),R(P.message)):(console.log("unexpected error: ",P),R("An unexpected error occurred"))}});return function(O,R){return v.apply(this,arguments)}}())})()}setupAxios(e){const n=t().create();return n.interceptors.response.use(v=>v,v=>{if(t().isAxiosError(v)){const O=v.response;let R=O?.data?O.data.message:v.message;return 401!=v.response?.status||this.router.url.split("/")[1].includes("portal")?(e.hideNotification||this.generalService.showNotification({message:R,style:"error"}),Promise.reject(v)):(this.logUserOut(),Promise.reject(v))}if(!e.hideNotification){let O;O=v.error?.message?v.error?.message:"An error occured, please try again",this.generalService.showNotification({message:O,style:"error"})}return Promise.reject(v)}),n}logUserOut(){"login"!==this.router.url.split("/")[1]&&localStorage.setItem("CONVOY_LAST_AUTH_LOCATION",location.href),this.router.navigate(["/login"],{replaceUrl:!0})}}return m.\u0275fac=function(e){return new(e||m)(i.LFG(f.F0),i.LFG(d.m),i.LFG(f.gz),i.LFG(a.Y))},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);
//# sourceMappingURL=755.9bdfa092e80acc25.js.map