"use strict";(self.webpackChunkconvoy_ng=self.webpackChunkconvoy_ng||[]).push([[341],{5454:(M,u,l)=>{l.d(u,{z:()=>_});var m=l(7073),t=l(4151),e=l(1354),f=l(385);let _=(()=>{class c{constructor(){this.closeModal=new t.vpe,this.deleteData=new t.vpe,this.isLoading=!1}ngOnInit(){}}return c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-delete-modal"]],inputs:{isLoading:"isLoading",deleteText:"deleteText",deleteButtonText:"deleteButtonText"},outputs:{closeModal:"closeModal",deleteData:"deleteData"},standalone:!0,features:[t.jDz],decls:11,vars:3,consts:[["convoy-modal","","position","center","size","sm",3,"closeModal"],[1,"flex","flex-col","justify-center","items-center","px-20px","py-30px"],["src","/assets/img/warning.gif","alt","warning",1,"h-[126px]","w-[126px]"],[1,"text-16","font-semibold","text-black","mb-8px","text-center"],[1,"text-14","font-medium","text-grey-40","mb-20px"],["convoy-button","","color","danger",1,"mb-24px",3,"disabled","click"],["convoy-button","","fill","text",1,"font-semibold",3,"click"]],template:function(p,r){1&p&&(t.TgZ(0,"div",0),t.NdJ("closeModal",function(){return r.closeModal.emit()}),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"This action is irrevesible."),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return r.deleteData.emit()}),t._uU(8),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return r.closeModal.emit()}),t._uU(10,"No, Cancel"),t.qZA()()()),2&p&&(t.xp6(4),t.hij("Are you sure you want to ",r.deleteText,"?"),t.xp6(3),t.Q6J("disabled",r.isLoading),t.xp6(1),t.Oqu(r.deleteButtonText?"Yes, "+r.deleteButtonText:"Yes, Delete"))},dependencies:[m.ez,f.zS,e.r]}),c})()},5341:(M,u,l)=>{l.r(u),l.d(u,{SettingsModule:()=>A});var m=l(7073),t=l(9369),e=l(4151),f=l(6440),_=l(3755);let c=(()=>{class n{constructor(o){this.http=o}deleteProject(){var o=this;return new Promise(function(){var s=(0,t.Z)(function*(i,v){try{return i(yield o.http.request({url:"/",method:"delete",level:"org_project"}))}catch(h){return v(h)}});return function(i,v){return s.apply(this,arguments)}}())}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(_.O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var d=l(7205),p=l(4330),r=l(7041),g=l(7542),x=l(5454),T=l(3117),y=l(1354);function Z(n,a){1&n&&e._UZ(0,"convoy-loader")}function D(n,a){if(1&n){const o=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"app-delete-modal",15),e.NdJ("closeModal",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.showDeleteProjectModal=!1)})("deleteData",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.deleteProject())}),e.qZA()}if(2&n){const o=e.oxw();e.Q6J("isLoading",o.isloading)("deleteText","delete this project")}}let S=(()=>{class n{constructor(o,s,i,v){this.privateService=o,this.settingsService=s,this.router=i,this.generalService=v,this.isloading=!1,this.showDeleteProjectModal=!1}ngOnInit(){}deleteProject(){var o=this;return(0,t.Z)(function*(){o.isloading=!0;try{yield o.settingsService.deleteProject(),o.generalService.showNotification({message:"Project deleted successfully",style:"success"}),o.router.navigateByUrl("/projects"),o.isloading=!1}catch{o.isloading=!1}})()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(f.i),e.Y36(c),e.Y36(d.F0),e.Y36(p.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],decls:25,vars:4,consts:[[4,"ngIf"],[1,"text-12","font-medium","flex","items-center","uppercase","mb-24px"],["routerLink","/projects",1,"font-medium","cursor-pointer"],["width","16","height","16",1,"mx-4px"],[0,"xlink","href","#arrow-right-icon"],[1,"text-primary-100","font-medium"],[3,"action"],[1,"border-t","border-grey-10","my-40px"],["convoy-card","","color","danger",1,"p-26px","my-24px"],[1,"text-danger","font-semibold","mb-20px"],[1,"text-14"],["convoy-button","","color","danger","size","sm",1,"mt-32px",3,"click"],["width","18","height","18",1,"mr-2","fill-white-100"],[0,"xlink","href","#delete-icon"],[3,"isLoading","deleteText","closeModal","deleteData",4,"ngIf"],[3,"isLoading","deleteText","closeModal","deleteData"]],template:function(o,s){1&o&&(e.YNc(0,Z,1,0,"convoy-loader",0),e.TgZ(1,"div",1)(2,"a",2),e._uU(3,"Projects"),e.qZA(),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"use",4),e.qZA(),e._uU(6),e.TgZ(7,"svg",3),e._UZ(8,"use",4),e.qZA(),e.kcU(),e.TgZ(9,"span",5),e._uU(10,"Settings"),e.qZA()(),e._UZ(11,"app-create-project-component",6)(12,"hr",7),e.TgZ(13,"div",8)(14,"h2",9),e._uU(15,"Danger zone"),e.qZA(),e.TgZ(16,"p",10),e._uU(17," Deleting this project will delete all of it's data including events, apps, subscriptions and config. "),e.TgZ(18,"strong"),e._uU(19,"Are you sure you want to delete this project?"),e.qZA()(),e.TgZ(20,"button",11),e.NdJ("click",function(){return s.showDeleteProjectModal=!0}),e.O4$(),e.TgZ(21,"svg",12),e._UZ(22,"use",13),e.qZA(),e._uU(23," Delete Project "),e.qZA()(),e.YNc(24,D,1,2,"app-delete-modal",14)),2&o&&(e.Q6J("ngIf",s.isloading),e.xp6(6),e.hij(" ",null==s.privateService.activeProjectDetails?null:s.privateService.activeProjectDetails.name," "),e.xp6(5),e.Q6J("action","update"),e.xp6(13),e.Q6J("ngIf",s.showDeleteProjectModal))},dependencies:[m.O5,d.yS,r.z,g.R,x.z,T.A,y.r]}),n})();var j=l(9522),C=l(4341);const U=[{path:"",component:S}];let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,d.Bz.forChild(U),j.o,C.q,x.z,T.A,y.r]}),n})()}}]);
//# sourceMappingURL=341.870c7bc0108fb2f0.js.map