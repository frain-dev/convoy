"use strict";(self.webpackChunkconvoy_ng=self.webpackChunkconvoy_ng||[]).push([[500],{7500:(Y,T,o)=>{o.d(T,{L:()=>O});var e=o(4151),p=o(7073),w=o(1354),c=o(6907),l=o(2711),m=o(4252);function y(i,s){(0,m.Z)(2,arguments);var t=(0,l.Z)(i),n=(0,l.Z)(s);return t.getTime()>n.getTime()}function f(i,s){(0,m.Z)(2,arguments);var t=(0,l.Z)(i),n=(0,l.Z)(s);return t.getTime()<n.getTime()}var k=o(8542),b=o(4938),C=o(9119);function M(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",37),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.showPicker=!1)}),e.qZA()}}function S(i,s){1&i&&e._UZ(0,"img",38)}function P(i,s){1&i&&e._UZ(0,"img",39)}function I(i,s){1&i&&e._UZ(0,"img",40)}function A(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(a){e.CHM(t);const r=e.oxw();return r.clearDate(a),e.KtG(r.clearDates.emit())}),e.O4$(),e.TgZ(1,"svg",41),e._UZ(2,"use",42),e.qZA()()}}function E(i,s){1&i&&(e.TgZ(0,"span",43),e._uU(1,"Start:"),e.qZA())}function J(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"span",43),e._uU(2,"End:"),e.qZA(),e.TgZ(3,"input",15),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.endDate.day=a)})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onInputEndDate())}),e.qZA(),e.TgZ(4,"span",16),e._uU(5,"/"),e.qZA(),e.TgZ(6,"input",17),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.endDate.month=a)})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onInputEndDate())}),e.qZA(),e.TgZ(7,"span",16),e._uU(8,"/"),e.qZA(),e.TgZ(9,"input",45),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.endDate.year=a)})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onInputEndDate())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.endDate.day),e.xp6(3),e.Q6J("ngModel",t.endDate.month),e.xp6(3),e.Q6J("ngModel",t.endDate.year)}}function N(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onselectDay(r.timestamp))}),e._uU(1),e.qZA()}if(2&i){const t=s.$implicit,n=e.oxw();e.Tol(n.getDayClassNames(t)),e.xp6(1),e.hij(" ",t.date," ")}}function F(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.clearDate(),e.KtG(a.clearDates.emit())}),e._uU(1,"Clear"),e.qZA()}}const U=function(i){return{"text-primary-100 !bg-primary-500":i}},q=function(i){return{"w-full":i}};let O=(()=>{class i{constructor(){this.selectedDateRange=new e.vpe,this.selectedDate=new e.vpe,this.clearDates=new e.vpe,this.formType="filter",this.oneDay=864e5,this.todayTimestamp=Date.now()-Date.now()%this.oneDay+1e3*(new Date).getTimezoneOffset()*60,this.selectedStartDay=this.todayTimestamp,this.selectedEndDay=this.todayTimestamp,this.startDate={day:"",month:"",year:""},this.endDate={day:"",month:"",year:""},this.daysMap=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.monthMap=["January","February","March","April","May","June","July","August","September","October","November","December"],this.showPicker=!1}ngOnInit(){if(this.dateRangeValue){this.selectedStartDay=new Date(this.dateRangeValue.startDate).getTime();const t=new Date(this.dateRangeValue.endDate);this.selectedEndDay=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime(),this.dateRangeValue.startDate&&this.dateRangeValue.endDate&&(this.selectedDates={startDate:new Date(this.selectedStartDay),endDate:new Date(this.selectedEndDay)})}this.dateValue&&(this.selectedStartDay=new Date(this.dateValue).getTime()),this.initDatePicker()}initDatePicker(){let t=new Date;this.year=t.getFullYear(),this.month=t.getMonth(),this.getMonthDetails(this.year,this.month),this.setInputStartDate(),"filter"===this.formType&&this.setInputEndDate()}clearDate(t){t?.stopPropagation(),delete this.selectedDates,this.selectedStartDay=this.todayTimestamp,this.selectedEndDay=this.todayTimestamp,this.initDatePicker(),this.showPicker=!1}applyDate(){this.selectedDates={startDate:new Date(this.selectedStartDay),endDate:new Date(this.selectedEndDay)},"filter"===this.formType?this.selectedDateRange.emit(this.selectedDates):this.selectedDate.emit(this.selectedDates.startDate),this.showPicker=!1}get getCalculatedClass(){return this.selectedDates?.startDate&&this.selectedDates?.endDate?"text-primary-100 !bg-primary-500 ":""}setInputStartDate(){if(this.selectedStartDay){const t=new Date(this.selectedStartDay);this.startDate={day:t.getDate()<9?"0"+t.getDate():String(t.getDate()),month:t.getMonth()+1<9?"0"+(t.getMonth()+1):String(t.getMonth()+1),year:String(t.getFullYear())}}}setInputEndDate(){if(this.selectedEndDay){const t=new Date(this.selectedEndDay);this.endDate={day:t.getDate()<9?"0"+t.getDate():String(t.getDate()),month:t.getMonth()+1<9?"0"+(t.getMonth()+1):String(t.getMonth()+1),year:String(t.getFullYear())}}}onInputStartDate(){const t=new Date(parseInt(this.startDate.year),parseInt(this.startDate.month)-1,parseInt(this.startDate.day)).getTime(),n=new Date(t);if(!this.selectedEndDay||!y(n,new Date(this.selectedEndDay))){if(this.isInFuture(t))return;this.selectedStartDay=t,this.year=n.getFullYear(),this.month=n.getMonth(),this.getMonthDetails(this.year,this.month)}}onInputEndDate(){const t=new Date(parseInt(this.endDate.year),parseInt(this.endDate.month)-1,parseInt(this.endDate.day)).getTime(),n=new Date(t);if(!this.selectedStartDay||!f(n,new Date(this.selectedStartDay))){if(this.isInFuture(t))return;this.selectedEndDay=t,this.year=n.getFullYear(),this.month=n.getMonth(),this.getMonthDetails(this.year,this.month)}}onselectDay(t){"filter"===this.formType?this.selectedStartDay&&this.selectedEndDay?(this.selectedStartDay=t,delete this.selectedEndDay):this.selectedStartDay&&f(new Date(t),new Date(this.selectedStartDay))?this.selectedStartDay=t:this.selectedStartDay&&y(new Date(t),new Date(this.selectedStartDay))&&!this.selectedEndDay?this.selectedEndDay=t:this.selectedStartDay||(this.selectedStartDay=t):(this.selectedStartDay=t,delete this.selectedEndDay),this.setInputStartDate(),"filter"===this.formType&&this.setInputEndDate()}setYear(t){let n=this.year+t,a=this.month;this.year=n,this.month=a,this.getMonthDetails(n,a)}setMonth(t){let n=this.year,a=this.month+t;-1===a?(a=11,n--):12===a&&(a=0,n++),this.year=n,this.month=a,this.getMonthDetails(n,a)}getDayDetails(t){let n=t.index-t.firstDay,a=t.index%7,r=t.month-1,d=t.year;r<0&&(r=11,d--);let h=this.getNumberOfDays(d,r),u=(n<0?h+n:n%t.numberOfDays)+1;return{date:u,day:a,month:n<0?-1:n>=t.numberOfDays?1:0,timestamp:new Date(t.year,t.month,u).getTime(),dayString:this.daysMap[a]}}getNumberOfDays(t,n){return 40-new Date(t,n,40).getDate()}getMonthDetails(t,n){let a=new Date(t,n).getDay(),r=this.getNumberOfDays(t,n),d=[],u=null,D=0;for(let _=0;_<6;_++)for(let x=0;x<7;x++)u=this.getDayDetails({index:D,numberOfDays:r,firstDay:a,year:t,month:n}),d.push(u),D++;this.calendarDate=d}isCurrentDay(t){return t===this.todayTimestamp}isSelectedDay(t){return t===this.selectedStartDay||t===this.selectedEndDay}isStartDay(t){return t===this.selectedStartDay}isEndDay(t){return t===this.selectedEndDay}isInFuture(t){return function Z(i){return(0,m.Z)(1,arguments),(0,l.Z)(i).getTime()>Date.now()}(new Date(t))}isDayWithinStartAndEndDates(t){return!(!this.selectedStartDay||!this.selectedEndDay)&&function v(i,s){(0,m.Z)(2,arguments);var t=(0,l.Z)(i).getTime(),n=(0,l.Z)(s.start).getTime(),a=(0,l.Z)(s.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return t>=n&&t<=a}(new Date(t),{start:new Date(this.selectedStartDay),end:new Date(this.selectedEndDay)})}getDayClassNames(t){return`w-full h-40px justify-center items-center transition-all duration-300 ease-in-out ${!this.isCurrentDay(t.timestamp)||this.isStartDay(t.timestamp)||this.isEndDay(t.timestamp)?"":"!bg-transparent !font-extrabold !text-primary-100"} ${t.month>0?"hidden":""} ${this.isDayWithinStartAndEndDates(t.timestamp)?"bg-primary-400 font-medium":""} ${this.isInFuture(t.timestamp)&&"filter"===this.formType?"opacity-30 pointer-events-none":""} ${this.isSelectedDay(t.timestamp)&&0==t.month?"!bg-primary-200 !text-white-100 font-medium":""} ${this.isStartDay(t.timestamp)?"rounded-bl-8px rounded-tl-8px":""} ${this.isEndDay(t.timestamp)?"rounded-br-8px rounded-tr-8px":""}`}formatDate(t){const n=new Date(t);return(0,k.Z)(n,"yyyy-MM-dd")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["convoy-date-picker"]],inputs:{formType:"formType",dateRangeValue:"dateRangeValue",dateValue:"dateValue"},outputs:{selectedDateRange:"selectedDateRange",selectedDate:"selectedDate",clearDates:"clearDates"},standalone:!0,features:[e.jDz],decls:63,vars:26,consts:[["convoyOverlay","",3,"click",4,"ngIf"],[1,"relative"],["convoy-button","","fill","outline",3,"ngClass","click"],["src","/assets/img/calendar-icon.svg","class","w-14px mr-10px",4,"ngIf"],[1,"text-grey-40","mr-4px"],[1,"flex","ml-auto","items-center","order-3"],["src","/assets/img/calendar-icon.svg","class","w-14px",4,"ngIf"],["src","/assets/img/angle-arrow-down.svg","class","ml-16px mr-0px w-14px","alt","arrow down icon",4,"ngIf"],["type","button",3,"click",4,"ngIf"],["convoy-dropdown-container","","position","left","size","xl",1,"p-10px",3,"show"],[1,"w-full"],[1,"date-picker"],[1,"inputs","flex","items-center","w-full","justify-between","bg-white-100","py-10px","mb-10px"],[1,"start-date","flex","items-center","py-4px","px-10px","bg-white-100","border","border-primary-400","focus-within:border-primary-200","transition-all","duration-300","ease-in-out","rounded-8px",3,"ngClass"],["class","text-14 text-grey-40 font-medium",4,"ngIf"],["placeholder","dd","pattern","[0-9]*","maxlength","2","max","31",1,"w-24px","outline-none","rounded-tl-8px","rounded-bl-8px","text-center","text-14","text-grey-40","font-medium",3,"ngModel","ngModelChange","change"],[1,"text-10","text-grey-40"],["placeholder","mm","pattern","[0-9]*","maxlength","2","max","12",1,"w-32px","outline-none","text-center","text-14","text-grey-40","font-medium",3,"ngModel","ngModelChange","change"],["placeholder","yyyy","pattern","[0-9]*","maxlength","4",1,"w-44px","outline-none","rounded-tr-8px","rounded-br-8px","text-center","text-14","text-grey-40","font-medium",3,"ngModel","ngModelChange","change"],["class","start-date flex items-center py-4px px-10px bg-white-100 border border-primary-400 focus-within:border-primary-200 transition-all duration-300 ease-in-out rounded-8px",4,"ngIf"],[1,"calendar"],[1,"calendar-nav","flex","items-center","justify-between"],[1,"flex","items-center"],["type","button",3,"click"],["width","24","height","24",1,"fill-grey-40"],[0,"xlink","href","#double-arrow-left-icon"],[0,"xlink","href","#arrow-left-icon"],[1,"text-center","py-4px","px-10px","text-14","font-semibold","bg-primary-500","text-[#494E50]","rounded-4px"],[0,"xlink","href","#arrow-right-icon"],[0,"xlink","href","#double-arrow-right-icon"],[1,"week","bg-[#F5F7FA]","grid","grid-cols-7","py-8px","capitalize","items-center","text-center","mt-20px"],[1,"text-14"],[1,"days","grid","grid-cols-7","text-center","mt-10px"],["size","sm","fill","text","type","button","color","grey","class","!text-14",3,"class","click",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","p-10px"],["convoy-button","","size","sm","type","button","fill","outline","color","danger","class","mr-14px",3,"click",4,"ngIf"],["convoy-button","","size","sm","type","button",3,"click"],["convoyOverlay","",3,"click"],["src","/assets/img/calendar-icon.svg",1,"w-14px","mr-10px"],["src","/assets/img/calendar-icon.svg",1,"w-14px"],["src","/assets/img/angle-arrow-down.svg","alt","arrow down icon",1,"ml-16px","mr-0px","w-14px"],["width","10","height","10",1,"fill-primary-100"],[0,"xlink","href","#close-icon"],[1,"text-14","text-grey-40","font-medium"],[1,"start-date","flex","items-center","py-4px","px-10px","bg-white-100","border","border-primary-400","focus-within:border-primary-200","transition-all","duration-300","ease-in-out","rounded-8px"],["placeholder","yyyy","pattern","[0-9]*","maxlength","4",1,"w-36px","outline-none","rounded-tr-8px","rounded-br-8px","text-center","text-14","text-grey-40","font-medium",3,"ngModel","ngModelChange","change"],["size","sm","fill","text","type","button","color","grey",1,"!text-14",3,"click"],["convoy-button","","size","sm","type","button","fill","outline","color","danger",1,"mr-14px",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,M,1,0,"div",0),e.TgZ(1,"div",1)(2,"button",2),e.NdJ("click",function(){return n.showPicker=!n.showPicker}),e.YNc(3,S,1,0,"img",3),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e.YNc(7,P,1,0,"img",6),e.YNc(8,I,1,0,"img",7),e.YNc(9,A,3,0,"button",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13),e.YNc(15,E,2,0,"span",14),e.TgZ(16,"input",15),e.NdJ("ngModelChange",function(r){return n.startDate.day=r})("change",function(){return n.onInputStartDate()}),e.qZA(),e.TgZ(17,"span",16),e._uU(18,"/"),e.qZA(),e.TgZ(19,"input",17),e.NdJ("ngModelChange",function(r){return n.startDate.month=r})("change",function(){return n.onInputStartDate()}),e.qZA(),e.TgZ(20,"span",16),e._uU(21,"/"),e.qZA(),e.TgZ(22,"input",18),e.NdJ("ngModelChange",function(r){return n.startDate.year=r})("change",function(){return n.onInputStartDate()}),e.qZA()(),e.YNc(23,J,10,3,"div",19),e.qZA(),e.TgZ(24,"div",20)(25,"div",21)(26,"div",22)(27,"button",23),e.NdJ("click",function(){return n.setYear(-1)}),e.O4$(),e.TgZ(28,"svg",24),e._UZ(29,"use",25),e.qZA()(),e.kcU(),e.TgZ(30,"button",23),e.NdJ("click",function(){return n.setMonth(-1)}),e.O4$(),e.TgZ(31,"svg",24),e._UZ(32,"use",26),e.qZA()()(),e.kcU(),e.TgZ(33,"div",27),e._uU(34),e.qZA(),e.TgZ(35,"div",22)(36,"button",23),e.NdJ("click",function(){return n.setMonth(1)}),e.O4$(),e.TgZ(37,"svg",24),e._UZ(38,"use",28),e.qZA()(),e.kcU(),e.TgZ(39,"button",23),e.NdJ("click",function(){return n.setYear(1)}),e.O4$(),e.TgZ(40,"svg",24),e._UZ(41,"use",29),e.qZA()()()(),e.kcU(),e.TgZ(42,"div",30)(43,"div",31),e._uU(44,"S"),e.qZA(),e.TgZ(45,"div",31),e._uU(46,"M"),e.qZA(),e.TgZ(47,"div",31),e._uU(48,"T"),e.qZA(),e.TgZ(49,"div",31),e._uU(50,"W"),e.qZA(),e.TgZ(51,"div",31),e._uU(52,"T"),e.qZA(),e.TgZ(53,"div",31),e._uU(54,"F"),e.qZA(),e.TgZ(55,"div",31),e._uU(56,"S"),e.qZA()(),e.TgZ(57,"div",32),e.YNc(58,N,2,3,"button",33),e.qZA()()(),e.TgZ(59,"div",34),e.YNc(60,F,2,0,"button",35),e.TgZ(61,"button",36),e.NdJ("click",function(){return n.applyDate()}),e._uU(62,"Apply"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",n.showPicker),e.xp6(2),e.Tol("filter"===n.formType?"px-10px !border-primary-400 justify-between h-36px min-w-[117px] text-12":"!border-primary-500 !rounded-4px !bg-[#F7F9FC] !py-12px !px-16px text-12 w-full !justify-start"),e.Q6J("ngClass",e.VKq(22,U,!(null==n.selectedDates||!n.selectedDates.startDate||null==n.selectedDates||!n.selectedDates.endDate))),e.xp6(1),e.Q6J("ngIf","filter"===n.formType),e.xp6(2),e.Oqu("input"===n.formType&&null!=n.selectedDates&&n.selectedDates.startDate?n.formatDate(n.selectedStartDay):"Date"),e.xp6(1),e.Tol("input"===n.formType?"order-2 ml-auto":"order-1"),e.xp6(1),e.Q6J("ngIf",!(null!=n.selectedDates&&n.selectedDates.startDate)&&"input"===n.formType),e.xp6(1),e.Q6J("ngIf",!(null!=n.selectedDates&&n.selectedDates.startDate||null!=n.selectedDates&&n.selectedDates.endDate||"filter"!==n.formType)),e.xp6(1),e.Q6J("ngIf",(null==n.selectedDates?null:n.selectedDates.startDate)&&(null==n.selectedDates?null:n.selectedDates.endDate)),e.xp6(1),e.Q6J("show",n.showPicker),e.xp6(4),e.Q6J("ngClass",e.VKq(24,q,"input"===n.formType)),e.xp6(1),e.Q6J("ngIf","filter"===n.formType),e.xp6(1),e.Q6J("ngModel",n.startDate.day),e.xp6(3),e.Q6J("ngModel",n.startDate.month),e.xp6(3),e.Q6J("ngModel",n.startDate.year),e.xp6(1),e.Q6J("ngIf","filter"===n.formType),e.xp6(11),e.AsE("",n.monthMap[n.month]," ",n.year,""),e.xp6(24),e.Q6J("ngForOf",n.calendarDate),e.xp6(2),e.Q6J("ngIf",(null==n.selectedDates?null:n.selectedDates.startDate)&&(null==n.selectedDates?null:n.selectedDates.endDate)))},dependencies:[p.ez,p.mk,p.sg,p.O5,w.r,c.u5,c.Fj,c.JJ,c.nD,c.c5,c.On,b.I,C.F]}),i})()}}]);
//# sourceMappingURL=500.885bf3fbca66c3d4.js.map