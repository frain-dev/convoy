"use strict";(self.webpackChunkconvoy_ng=self.webpackChunkconvoy_ng||[]).push([[309],{7933:(T,x,r)=>{r.d(x,{U:()=>i});var _=r(7073),e=r(4151),d=r(6907),v=r(3270);function C(p,s){if(1&p&&(e.TgZ(0,"convoy-tooltip",10),e._uU(1),e.qZA()),2&p){const l=e.oxw();e.Q6J("position",l.tooltipPosition)("size",l.tooltipSize),e.xp6(1),e.hij(" ",l.tooltipContent," ")}}function m(p,s){if(1&p&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&p){const l=e.oxw();e.xp6(1),e.Oqu(l.description)}}let i=(()=>{class p{constructor(l){this.controlContainer=l,this.checked=!1,this.tooltipPosition="left",this.tooltipSize="md"}ngOnInit(){this.controlContainer.control?.get(this.formControlName)&&(this.control=this.controlContainer.control.get(this.formControlName))}registerOnChange(){}registerOnTouched(){}writeValue(){}setDisabledState(){}}return p.\u0275fac=function(l){return new(l||p)(e.Y36(d.gN))},p.\u0275cmp=e.Xpm({type:p,selectors:[["convoy-radio"]],inputs:{label:"label",name:["_name","name"],value:"value",id:["_id","id"],checked:"checked",description:"description",tooltipPosition:"tooltipPosition",tooltipSize:"tooltipSize",tooltipContent:"tooltipContent",formControlName:"formControlName"},standalone:!0,features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>p),multi:!0}]),e.jDz],decls:11,vars:9,consts:[[1,"relative"],["type","radio",1,"peer","opacity-0","absolute",3,"id","name","formControl","value","checked"],[1,"border","border-grey-10","rounded-4px","p-16px","block","transition-all","duration-200","peer-checked:border-primary-100","peer-checked:bg-[#FAFAFE]",3,"for"],[1,"flex","justify-between"],[1,"flex","items-center"],[1,"w-16px"],[1,"text-14","font-semibold","ml-8px"],[3,"position","size",4,"ngIf"],["class","text-grey-80 text-14 text-left font-normal mt-8px",4,"ngIf"],[1,"absolute","top-20px","left-[17px]","rounded-[50px]","mb-0","border","border-grey-10","w-16px","h-16px","transition-all","duration-200","peer-checked:border-primary-100","peer-checked:border-[5px]"],[3,"position","size"],[1,"text-grey-80","text-14","text-left","font-normal","mt-8px"]],template:function(l,f){1&l&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"label",2)(3,"div",3)(4,"div",4),e._UZ(5,"div",5),e.TgZ(6,"p",6),e._uU(7),e.qZA()(),e.YNc(8,C,2,3,"convoy-tooltip",7),e.qZA(),e.YNc(9,m,2,1,"p",8),e.qZA(),e._UZ(10,"div",9),e.qZA()),2&l&&(e.xp6(1),e.Q6J("id",f.id)("name",f.name)("formControl",f.control)("value",f.value)("checked",f.checked),e.xp6(1),e.Q6J("for",f.id),e.xp6(5),e.Oqu(f.label),e.xp6(1),e.Q6J("ngIf",f.tooltipContent),e.xp6(1),e.Q6J("ngIf",f.description))},dependencies:[_.ez,_.O5,d.UX,d.Fj,d._,d.JJ,d.oH,v.K]}),p})()},671:(T,x,r)=>{r.d(x,{n:()=>m});var _=r(7073),e=r(4151),d=r(6907);function v(i,p){if(1&i){const s=e.EpF();e.ynx(0),e.TgZ(1,"input",4),e.NdJ("change",function(f){e.CHM(s);const Z=e.oxw();return e.KtG(Z.onChange.emit(f))}),e.qZA(),e.BQk()}if(2&i){const s=e.oxw();e.xp6(1),e.Q6J("id",s.id||"convoy-toggle")("checked",s.isChecked)}}function C(i,p){if(1&i){const s=e.EpF();e.ynx(0),e.TgZ(1,"input",5),e.NdJ("change",function(f){e.CHM(s);const Z=e.oxw();return e.KtG(Z.onChange.emit(f))}),e.qZA(),e.BQk()}if(2&i){const s=e.oxw();e.xp6(1),e.Q6J("id",s.id||"convoy-toggle")("formControl",s.control)("checked",s.isChecked)}}let m=(()=>{class i{constructor(s){this.controlContainer=s,this.isChecked=!1,this.onChange=new e.vpe}ngOnInit(){this.formControlName&&this.controlContainer.control?.get(this.formControlName)&&(this.control=this.controlContainer.control.get(this.formControlName))}registerOnChange(){}registerOnTouched(){}writeValue(){}setDisabledState(){}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(d.gN,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["convoy-toggle"]],inputs:{isChecked:"isChecked",label:"label",id:["name","id"],class:["className","class"],formControlName:"formControlName"},outputs:{onChange:"onChange"},standalone:!0,features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}]),e.jDz],decls:6,vars:6,consts:[[1,"inline-flex","relative","items-center","mb-5","cursor-pointer",3,"for"],[4,"ngIf"],[1,"w-[35px]","h-[21px]","bg-grey-10","peer-focus:outline-none","rounded-16px","peer","peer-checked:after:translate-x-[16px]","peer-checked:after:border-primary-100","peer-checked:after:bg-no-repeat","peer-checked:after:bg-center","peer-checked:after:transition-transform","peer-checked:after:duration-300","after:content-['']","after:absolute","after:top-[1px]","after:bg-white-100","after:border-grey-10","after:border","after:rounded-100px","after:h-[18px]","after:w-[18px]","after:transition-all","peer-checked:bg-primary-100"],[1,"ml-2","text-12"],["type","checkbox",1,"sr-only","peer",3,"id","checked","change"],["type","checkbox",1,"sr-only","peer",3,"id","formControl","checked","change"]],template:function(s,l){1&s&&(e.TgZ(0,"label",0),e.YNc(1,v,2,2,"ng-container",1),e.YNc(2,C,2,3,"ng-container",1),e._UZ(3,"div",2),e.TgZ(4,"span",3),e._uU(5),e.qZA()()),2&s&&(e.Tol(l.class),e.Q6J("for",l.id||"convoy-toggle"),e.xp6(1),e.Q6J("ngIf",!l.formControlName),e.xp6(1),e.Q6J("ngIf",l.formControlName),e.xp6(3),e.Oqu(l.label))},dependencies:[_.ez,_.O5,d.UX,d.Wl,d.JJ,d.oH]}),i})()},5454:(T,x,r)=>{r.d(x,{z:()=>C});var _=r(7073),e=r(4151),d=r(1354),v=r(385);let C=(()=>{class m{constructor(){this.closeModal=new e.vpe,this.deleteData=new e.vpe,this.isLoading=!1}ngOnInit(){}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-delete-modal"]],inputs:{isLoading:"isLoading",deleteText:"deleteText",deleteButtonText:"deleteButtonText"},outputs:{closeModal:"closeModal",deleteData:"deleteData"},standalone:!0,features:[e.jDz],decls:11,vars:3,consts:[["convoy-modal","","position","center","size","sm",3,"closeModal"],[1,"flex","flex-col","justify-center","items-center","px-20px","py-30px"],["src","/assets/img/warning.gif","alt","warning",1,"h-[126px]","w-[126px]"],[1,"text-16","font-semibold","text-black","mb-8px","text-center"],[1,"text-14","font-medium","text-grey-40","mb-20px"],["convoy-button","","color","danger",1,"mb-24px",3,"disabled","click"],["convoy-button","","fill","text",1,"font-semibold",3,"click"]],template:function(p,s){1&p&&(e.TgZ(0,"div",0),e.NdJ("closeModal",function(){return s.closeModal.emit()}),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p",4),e._uU(6,"This action is irrevesible."),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return s.deleteData.emit()}),e._uU(8),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return s.closeModal.emit()}),e._uU(10,"No, Cancel"),e.qZA()()()),2&p&&(e.xp6(4),e.hij("Are you sure you want to ",s.deleteText,"?"),e.xp6(3),e.Q6J("disabled",s.isLoading),e.xp6(1),e.Oqu(s.deleteButtonText?"Yes, "+s.deleteButtonText:"Yes, Delete"))},dependencies:[_.ez,v.zS,d.r]}),m})()},9309:(T,x,r)=>{r.r(x),r.d(x,{SettingsModule:()=>V});var _=r(7073),e=r(4151),d=r(7205),v=r(3117),C=r(2895),m=r(9369),i=r(6907),p=r(3755);let s=(()=>{class o{constructor(t){this.http=t}updateOrganisation(t){var n=this;return new Promise(function(){var a=(0,m.Z)(function*(u,g){try{return u(yield n.http.request({url:`/organisations/${t.org_id}`,method:"put",body:t.body}))}catch(h){return g(h)}});return function(u,g){return a.apply(this,arguments)}}())}deleteOrganisation(t){var n=this;return new Promise(function(){var a=(0,m.Z)(function*(u,g){try{return u(yield n.http.request({url:`/organisations/${t.org_id}`,method:"delete",body:null}))}catch(h){return g(h)}});return function(u,g){return a.apply(this,arguments)}}())}fetchConfigSettings(){var t=this;return new Promise(function(){var n=(0,m.Z)(function*(a,u){try{return a(yield t.http.request({url:"/configuration",method:"get"}))}catch(g){return u(g)}});return function(a,u){return n.apply(this,arguments)}}())}updateConfigSettings(t){var n=this;return new Promise(function(){var a=(0,m.Z)(function*(u,g){try{return u(yield n.http.request({url:"/configuration",method:"put",body:t}))}catch(h){return g(h)}});return function(u,g){return a.apply(this,arguments)}}())}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(p.O))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var l=r(4330),f=r(6440),Z=r(5454),b=r(1354),O=r(1549),y=r(2187);function S(o,c){1&o&&(e.TgZ(0,"convoy-input-error"),e._uU(1,"Please enter a name for your organisation"),e.qZA())}function N(o,c){if(1&o){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"app-delete-modal",19),e.NdJ("closeModal",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.showDeleteModal=!1)})("deleteData",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteOrganisation())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("isLoading",t.isDeletingOrganisation)("deleteText","deactivate \u201c"+t.organisationName+"\u201d")("deleteButtonText","Deactivate")}}let D=(()=>{class o{constructor(t,n,a,u,g){this.formBuilder=t,this.settingService=n,this.generalService=a,this.router=u,this.privateService=g,this.showDeleteModal=!1,this.isEditingOrganisation=!1,this.isDeletingOrganisation=!1,this.editOrganisationForm=this.formBuilder.group({name:["",i.kI.required]})}ngOnInit(){this.getOrganisationDetails()}updateOrganisation(){var t=this;return(0,m.Z)(function*(){if(t.editOrganisationForm.invalid)return t.editOrganisationForm.markAllAsTouched();t.isEditingOrganisation=!0;try{const n=yield t.settingService.updateOrganisation({org_id:t.organisationId,body:t.editOrganisationForm.value});t.privateService.getOrganizations({refresh:!0}),t.generalService.showNotification({style:"success",message:n.message}),t.isEditingOrganisation=!1}catch{t.isEditingOrganisation=!1}})()}getOrganisationDetails(){const t=localStorage.getItem("CONVOY_ORG");if(t){const n=JSON.parse(t);this.organisationId=n.uid,this.organisationName=n.name,this.editOrganisationForm.patchValue({name:n.name})}}deleteOrganisation(){var t=this;return(0,m.Z)(function*(){t.isDeletingOrganisation=!0;try{const n=yield t.settingService.deleteOrganisation({org_id:t.organisationId});t.generalService.showNotification({style:"success",message:n.message}),localStorage.removeItem("CONVOY_ORG"),t.router.navigateByUrl("/").then(()=>{window.location.reload()}),t.isDeletingOrganisation=!1}catch{t.isDeletingOrganisation=!1}})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(s),e.Y36(l.m),e.Y36(d.F0),e.Y36(f.i))},o.\u0275cmp=e.Xpm({type:o,selectors:[["organisation-settings"]],decls:28,vars:6,consts:[[1,"flex","justify-between","items-center","mb-28px"],[1,"font-semibold"],["convoy-button","","size","sm",3,"disabled","click"],[3,"formGroup"],["for","name","convoy-label","","required","true"],["id","name","convoy-input","","autocomplete","name","formControlName","name","placeholder","Organisation name"],[4,"ngIf"],["convoy-label",""],[1,"flex","items-center","justify-between","w-full","h-50px","bg-[#F7F9FC]","border","border-grey-10","rounded-[6px]","px-16px"],[1,"text-16","text-grey-60","font-normal","whitespace-nowrap","w-250px","overflow-hidden","text-ellipsis"],["notificationText","Organisation ID has been copied to your clipboard",3,"text"],[1,"border-t","border-t-grey-10","mt-32px","mb-20px"],["convoy-card","","color","danger",1,"p-26px","my-24px"],[1,"text-danger","font-semibold","mb-20px"],[1,"text-14"],["convoy-button","","color","danger","size","sm",1,"mt-32px",3,"click"],["width","18","height","18",1,"mr-2","fill-white-100"],[0,"xlink","href","#delete-icon"],[3,"isLoading","deleteText","deleteButtonText","closeModal","deleteData",4,"ngIf"],[3,"isLoading","deleteText","deleteButtonText","closeModal","deleteData"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Organisation Info"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.updateOrganisation()}),e._uU(4,"Save Changes"),e.qZA()(),e.TgZ(5,"form",3)(6,"convoy-input-field")(7,"label",4),e._uU(8,"Organisation name"),e.qZA(),e._UZ(9,"input",5),e.YNc(10,S,2,0,"convoy-input-error",6),e.qZA(),e.TgZ(11,"label",7),e._uU(12,"Organisation Id"),e.qZA(),e.TgZ(13,"div",8)(14,"span",9),e._uU(15),e.qZA(),e._UZ(16,"convoy-copy-button",10),e.qZA()(),e._UZ(17,"hr",11),e.TgZ(18,"div",12)(19,"h2",13),e._uU(20,"Danger zone"),e.qZA(),e.TgZ(21,"p",14),e._uU(22,"Deleting your organisation means you will lose all workspaces created by you and all your every other organisation information."),e.qZA(),e.TgZ(23,"button",15),e.NdJ("click",function(){return n.showDeleteModal=!n.showDeleteModal}),e.O4$(),e.TgZ(24,"svg",16),e._UZ(25,"use",17),e.qZA(),e._uU(26," Delete Organisation "),e.qZA()(),e.YNc(27,N,1,3,"app-delete-modal",18)),2&t){let a;e.xp6(3),e.Q6J("disabled",n.isEditingOrganisation),e.xp6(2),e.Q6J("formGroup",n.editOrganisationForm),e.xp6(5),e.Q6J("ngIf",(null==(a=n.editOrganisationForm.get("name"))?null:a.touched)&&(null==(a=n.editOrganisationForm.get("name"))?null:a.invalid)),e.xp6(5),e.Oqu(n.organisationId),e.xp6(1),e.Q6J("text",n.organisationId),e.xp6(11),e.Q6J("ngIf",n.showDeleteModal)}},dependencies:[_.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,v.A,Z.z,b.r,O.K,y.uZ,y.wo,y.Vd,y._n]}),o})();var U=r(5456),A=r(7933),k=r(671);function F(o,c){1&o&&(e.TgZ(0,"convoy-input-error"),e._uU(1,"Please enter a storage path relative to your current device"),e.qZA())}function I(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"div",16)(2,"convoy-input-field")(3,"label",17),e._uU(4,"Storage Path"),e.qZA(),e._UZ(5,"input",18),e.YNc(6,F,2,0,"convoy-input-error",15),e.qZA()(),e.BQk()),2&o){const t=e.oxw();let n;e.xp6(6),e.Q6J("ngIf",(null==(n=t.configForm.get("storage_policy.on_prem.path"))?null:n.touched)&&(null==(n=t.configForm.get("storage_policy.on_prem.path"))?null:n.invalid))}}function w(o,c){1&o&&(e.TgZ(0,"convoy-input-error"),e._uU(1,"Please enter bucket name"),e.qZA())}function M(o,c){1&o&&(e.TgZ(0,"convoy-input-error"),e._uU(1,"Please enter access key"),e.qZA())}function P(o,c){1&o&&(e.TgZ(0,"convoy-input-error"),e._uU(1,"Please enter secret key"),e.qZA())}function J(o,c){1&o&&(e.TgZ(0,"convoy-input-error"),e._uU(1,"Please enter session token"),e.qZA())}function q(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",19)(2,"convoy-input-field")(3,"label",20),e._uU(4,"Bucket"),e.qZA(),e._UZ(5,"input",21),e.YNc(6,w,2,0,"convoy-input-error",15),e.qZA(),e.TgZ(7,"convoy-select",22),e.NdJ("selectedOption",function(a){e.CHM(t);const u=e.oxw();let g;return e.KtG(null==(g=u.configForm.get("storage_policy.s3"))?null:g.patchValue({region:a}))}),e.qZA(),e.TgZ(8,"convoy-input-field")(9,"label",23),e._uU(10,"Access Key"),e.qZA(),e._UZ(11,"input",24),e.YNc(12,M,2,0,"convoy-input-error",15),e.qZA(),e.TgZ(13,"convoy-input-field")(14,"label",25),e._uU(15,"Secret Key"),e.qZA(),e._UZ(16,"input",26),e.YNc(17,P,2,0,"convoy-input-error",15),e.qZA(),e.TgZ(18,"convoy-input-field")(19,"label",27),e._uU(20,"Session Key"),e.qZA(),e._UZ(21,"input",28),e.YNc(22,J,2,0,"convoy-input-error",15),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();let n,a,u,g;e.xp6(6),e.Q6J("ngIf",(null==(n=t.configForm.get("storage_policy.s3.bucket"))?null:n.touched)&&(null==(n=t.configForm.get("storage_policy.s3.bucket"))?null:n.invalid)),e.xp6(1),e.Q6J("options",t.regions)("required",!0),e.xp6(5),e.Q6J("ngIf",(null==(a=t.configForm.get("storage_policy.s3.access_key"))?null:a.touched)&&(null==(a=t.configForm.get("storage_policy.s3.access_key"))?null:a.invalid)),e.xp6(5),e.Q6J("ngIf",(null==(u=t.configForm.get("storage_policy.s3.secret_key"))?null:u.touched)&&(null==(u=t.configForm.get("storage_policy.s3.secret_key"))?null:u.invalid)),e.xp6(5),e.Q6J("ngIf",(null==(g=t.configForm.get("storage_policy.s3.session_token"))?null:g.touched)&&(null==(g=t.configForm.get("storage_policy.s3.session_token"))?null:g.invalid))}}let E=(()=>{class o{constructor(t,n,a){this.formBuilder=t,this.settingService=n,this.generalService=a,this.regions=["us-east-2","us-east-1","us-west-1","us-west-2","af-south-1","ap-east-1","ap-southeast-3","ap-south-1","ap-northeast-3","ap-northeast-2","ap-southeast-1","ap-southeast-2","ap-northeast-1","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-west-1","eu-west-2","eu-south-1","eu-west-3","eu-north-1","me-south-1","sa-east-1"],this.isUpdatingConfig=!1,this.showDeleteModal=!1,this.isFetchingConfig=!1,this.loaderIndex=[0,1,2],this.configForm=this.formBuilder.group({is_analytics_enabled:[null,i.kI.required],is_signup_enabled:[null,i.kI.required],storage_policy:this.formBuilder.group({type:[null,i.kI.required],on_prem:this.formBuilder.group({path:[null,i.kI.required]}),s3:this.formBuilder.group({bucket:[null,i.kI.required],region:[null,i.kI.required],access_key:[null,i.kI.required],secret_key:[null,i.kI.required],session_token:[null]})})})}ngOnInit(){this.fetchConfigSettings()}fetchConfigSettings(){var t=this;return(0,m.Z)(function*(){t.isFetchingConfig=!0;try{const a=(yield t.settingService.fetchConfigSettings()).data[0];t.configForm.patchValue(a),t.isFetchingConfig=!1}catch{t.isFetchingConfig=!1}})()}updateConfigSettings(){var t=this;return(0,m.Z)(function*(){"on_prem"===t.configForm.value.storage_policy.type&&delete t.configForm.value.storage_policy.s3,"s3"===t.configForm.value.storage_policy.type&&delete t.configForm.value.storage_policy.on_prem,t.isUpdatingConfig=!0;try{const n=yield t.settingService.updateConfigSettings(t.configForm.value);t.generalService.showNotification({message:n.message,style:"success"}),t.isUpdatingConfig=!1,t.fetchConfigSettings()}catch{t.isUpdatingConfig=!1}})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(s),e.Y36(l.m))},o.\u0275cmp=e.Xpm({type:o,selectors:[["configurations"]],decls:30,vars:4,consts:[[1,"flex","justify-between","items-center","mb-28px"],[1,"font-semibold"],["convoy-button","","size","sm",3,"disabled","click"],[3,"formGroup"],[1,"flex","justify-between","items-start"],[1,"w-3/4"],[1,"text-12","text-grey-40"],["formControlName","is_analytics_enabled"],[1,"border-t","border-t-grey-10","my-20px"],["name","is_signup_enabled","formControlName","is_signup_enabled"],[1,"font-semibold","mb-12px","mt-24px"],["formGroupName","storage_policy"],[1,"grid","grid-cols-2","gap-24px","mb-24px"],["formControlName","type","label","On Prem","_name","type","value","on_prem","_id","on_prem","description","Retain events in a specified path on your device"],["formControlName","type","label","S3","_name","type","value","s3","_id","s3","description","Retain events in an external aws server"],[4,"ngIf"],["formGroupName","on_prem"],["for","path","convoy-label","","required","true"],["id","path","convoy-input","","autocomplete","path","formControlName","path","placeholder","e.g ../path/to/storage"],["formGroupName","s3",1,"grid","grid-cols-2","gap-x-6"],["for","bucket","convoy-label","","required","true"],["id","bucket","convoy-input","","autocomplete","bucket","formControlName","bucket","placeholder","Bucket name"],["label","Region","name","region","formControlName","region","errorMessage","Please select a region",3,"options","required","selectedOption"],["for","access_key","convoy-label","","required","true"],["id","access_key","convoy-input","","autocomplete","access_key","formControlName","access_key","placeholder","Access Key"],["for","secret_key","convoy-label","","required","true"],["id","secret_key","convoy-input","","autocomplete","secret_key","formControlName","secret_key","placeholder","Secret Key"],["for","session_token","convoy-label","","required","true"],["id","session_token","convoy-input","","autocomplete","session_token","formControlName","session_token","placeholder","Session Key"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Configurations"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.updateConfigSettings()}),e._uU(4,"Save Changes"),e.qZA()(),e.TgZ(5,"form",3)(6,"div",4)(7,"div",5)(8,"h4",1),e._uU(9,"Analytics"),e.qZA(),e.TgZ(10,"p",6),e._uU(11,"Enabling analytics will provide anonymous metrics to help us understand how you use Convoy, so we can make it even better for you."),e.qZA()(),e._UZ(12,"convoy-toggle",7),e.qZA(),e._UZ(13,"hr",8),e.TgZ(14,"div",4)(15,"div",5)(16,"h4",1),e._uU(17,"Allow Signup"),e.qZA(),e.TgZ(18,"p",6),e._uU(19,"Allow anyone with your instance URL signup and create an organisation on your Convoy application"),e.qZA()(),e._UZ(20,"convoy-toggle",9),e.qZA(),e._UZ(21,"hr",8),e.TgZ(22,"h2",10),e._uU(23,"Storage Policy"),e.qZA(),e.TgZ(24,"div",11)(25,"div",12),e._UZ(26,"convoy-radio",13)(27,"convoy-radio",14),e.qZA(),e.YNc(28,I,7,1,"ng-container",15),e.YNc(29,q,23,6,"ng-container",15),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("disabled",n.isUpdatingConfig),e.xp6(2),e.Q6J("formGroup",n.configForm),e.xp6(23),e.Q6J("ngIf","on_prem"===n.configForm.value.storage_policy.type),e.xp6(1),e.Q6J("ngIf","s3"===n.configForm.value.storage_policy.type))},dependencies:[_.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,i.x0,U.H,A.U,k.n,b.r,y.uZ,y.wo,y.Vd,y._n]}),o})();function B(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"button",9),e.NdJ("click",function(){const u=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.toggleActivePage(u.name))}),e.O4$(),e.TgZ(2,"svg",10),e._UZ(3,"use"),e.qZA(),e.kcU(),e.TgZ(4,"span",11),e._uU(5),e.qZA()()()}if(2&o){const t=c.$implicit,n=e.oxw();e.xp6(1),e.Tol(n.activePage===t.name?"bg-primary-500 text-primary-100 rounded-8px transition-all duration-200 py-12px !px-16px mb-20px !justify-start min-w-[216px]":"text-grey-40 rounded-8px transition-all duration-200 py-12px !px-16px mb-20px !justify-start min-w-[216px]"),e.xp6(1),e.Tol(n.activePage===t.name?"fill-primary-100":"fill-grey-40"),e.Q6J("id",t.icon),e.xp6(1),e.uIk("href","#"+t.icon+"-icon",null,"xlink"),e.xp6(2),e.Oqu(t.name)}}function Q(o,c){1&o&&(e.ynx(0),e._UZ(1,"organisation-settings"),e.BQk())}function Y(o,c){1&o&&(e.ynx(0),e._UZ(1,"configurations"),e.BQk())}let z=(()=>{class o{constructor(t,n){this.router=t,this.route=n,this.activePage="organisation settings",this.settingsMenu=[{name:"organisation settings",icon:"settings"}]}ngOnInit(){this.toggleActivePage(this.route.snapshot.queryParams?.activePage??"organisation settings")}toggleActivePage(t){this.activePage=t,this.router.url.split("/")[2]||this.addPageToUrl()}addPageToUrl(){const t={};t.activePage=this.activePage,this.router.navigate([],{queryParams:Object.assign({},t)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.F0),e.Y36(d.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["convoy-settings"]],decls:11,vars:3,consts:[["convoy-page","","size","md"],["convoy-card","",1,"flex","p-0"],[1,"border-r","border-r-grey-10","w-full","max-w-[300px]"],[1,"border-b","border-b-grey-10","px-40px","py-20px"],[1,"font-semibold"],[1,"pl-40px","py-32px"],[4,"ngFor","ngForOf"],[1,"px-32px","py-18px","min-h-[60vh]","w-full"],[4,"ngIf"],[1,"flex","items-center",3,"click"],["width","18","height","18",1,"mr-10px","transition-all","duration-200",3,"id"],[1,"font-medium","text-14","transition-all","duration-200","whitespace-nowrap","capitalize"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Settings"),e.qZA()(),e.TgZ(6,"ul",5),e.YNc(7,B,6,7,"li",6),e.qZA()(),e.TgZ(8,"div",7),e.YNc(9,Q,2,0,"ng-container",8),e.YNc(10,Y,2,0,"ng-container",8),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngForOf",n.settingsMenu),e.xp6(2),e.Q6J("ngIf","organisation settings"===n.activePage),e.xp6(1),e.Q6J("ngIf","configuration settings"===n.activePage))},dependencies:[_.sg,_.O5,v.A,C.i,D,E]}),o})();var K=r(545),L=r(3579),R=r(455),G=r(385),j=r(2065),W=r(7500);const H=[{path:"",component:z}];let V=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez,d.Bz.forChild(H),i.UX,v.A,Z.z,U.H,A.U,k.n,b.r,K.t,R.Z,G.zS,O.K,W.L,L.K,j.s,y.wo,y._n]}),o})()}}]);
//# sourceMappingURL=309.d77deae67d47fad5.js.map