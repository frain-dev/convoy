"use strict";(self.webpackChunkconvoy_ng=self.webpackChunkconvoy_ng||[]).push([[132],{2516:(O,b,l)=>{l.d(b,{R:()=>c});var y=l(9264),t=l(9861),g=l(18),E=l(3927);function c(s,_,a,n){return(0,g.m)(a)&&(n=a,a=void 0),n?c(s,_,a).pipe((0,E.U)(o=>(0,t.k)(o)?n(...o):n(o))):new y.y(o=>{u(s,_,function r(d){o.next(arguments.length>1?Array.prototype.slice.call(arguments):d)},o,a)})}function u(s,_,a,n,o){let r;if(function x(s){return s&&"function"==typeof s.addEventListener&&"function"==typeof s.removeEventListener}(s)){const d=s;s.addEventListener(_,a,o),r=()=>d.removeEventListener(_,a,o)}else if(function h(s){return s&&"function"==typeof s.on&&"function"==typeof s.off}(s)){const d=s;s.on(_,a),r=()=>d.off(_,a)}else if(function p(s){return s&&"function"==typeof s.addListener&&"function"==typeof s.removeListener}(s)){const d=s;s.addListener(_,a),r=()=>d.removeListener(_,a)}else{if(!s||!s.length)throw new TypeError("Invalid event target");for(let d=0,T=s.length;d<T;d++)u(s[d],_,a,n,o)}n.add(r)}},3940:(O,b,l)=>{l.d(b,{b:()=>h});var y=l(1003),t=l(8109);class g extends t.w{constructor(n,o){super()}schedule(n,o=0){return this}}let v=(()=>{class a{constructor(o,r=a.now){this.SchedulerAction=o,this.now=r}schedule(o,r=0,d){return new this.SchedulerAction(this,o).schedule(d,r)}}return a.now=()=>Date.now(),a})();class c extends v{constructor(n,o=v.now){super(n,()=>c.delegate&&c.delegate!==this?c.delegate.now():o()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,o=0,r){return c.delegate&&c.delegate!==this?c.delegate.schedule(n,o,r):super.schedule(n,o,r)}flush(n){const{actions:o}=this;if(this.active)return void o.push(n);let r;this.active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=o.shift());if(this.active=!1,r){for(;n=o.shift();)n.unsubscribe();throw r}}}const p=new c(class E extends g{constructor(n,o){super(n,o),this.scheduler=n,this.work=o,this.pending=!1}schedule(n,o=0){if(this.closed)return this;this.state=n;const r=this.id,d=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(d,r,o)),this.pending=!0,this.delay=o,this.id=this.id||this.requestAsyncId(d,this.id,o),this}requestAsyncId(n,o,r=0){return setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,o,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return o;clearInterval(o)}execute(n,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,o);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,o){let d,r=!1;try{this.work(n)}catch(T){r=!0,d=!!T&&T||new Error(T)}if(r)return this.unsubscribe(),d}_unsubscribe(){const n=this.id,o=this.scheduler,r=o.actions,d=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==d&&r.splice(d,1),null!=n&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null}});function h(a,n=p){return o=>o.lift(new x(a,n))}class x{constructor(n,o){this.dueTime=n,this.scheduler=o}call(n,o){return o.subscribe(new s(n,this.dueTime,this.scheduler))}}class s extends y.L{constructor(n,o,r){super(n),this.dueTime=o,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function _(a){a.debouncedNext()}},3720:(O,b,l)=>{l.d(b,{x:()=>t});var y=l(1003);function t(v,c){return u=>u.lift(new g(v,c))}class g{constructor(c,u){this.compare=c,this.keySelector=u}call(c,u){return u.subscribe(new E(c,this.compare,this.keySelector))}}class E extends y.L{constructor(c,u,p){super(c),this.keySelector=p,this.hasKey=!1,"function"==typeof u&&(this.compare=u)}compare(c,u){return c===u}_next(c){let u;try{const{keySelector:h}=this;u=h?h(c):c}catch(h){return this.destination.error(h)}let p=!1;if(this.hasKey)try{const{compare:h}=this;p=h(this.key,u)}catch(h){return this.destination.error(h)}else this.hasKey=!0;p||(this.key=u,this.destination.next(c))}}},3117:(O,b,l)=>{l.d(b,{A:()=>v});var y=l(7073),t=l(4151);const g=["convoy-card",""],E=["*"];let v=(()=>{class c{constructor(){this.hover="false",this.color="default"}ngOnInit(){}get classes(){return`${{default:"bg-[#fff] border border-grey-10",danger:"bg-danger-500 border border-danger-200"}[this.color]} ${"true"===this.hover?"focus:shadow-sm hover:shadow-sm focus-visible:shadow-sm hover:border-grey-20 focus:border-grey-20 focus-visible:border-grey-20 outline-none":""} block`}}return c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["","convoy-card",""]],hostAttrs:[1,"rounded-8px"],hostVars:2,hostBindings:function(p,h){2&p&&t.Tol(h.classes)},inputs:{hover:"hover",color:"color"},standalone:!0,features:[t.jDz],attrs:g,ngContentSelectors:E,decls:1,vars:0,template:function(p,h){1&p&&(t.F$t(),t.Hsn(0))},dependencies:[y.ez],encapsulation:2}),c})()},1549:(O,b,l)=>{l.d(b,{K:()=>u});var y=l(7073),t=l(4151),g=l(1354),E=l(4330);const v=["convoy-copy-button",""],c=["*"];let u=(()=>{class p{constructor(x){this.generalService=x,this.size="sm",this.copy=new t.vpe,this.textCopied=!1}ngOnInit(){}copyText(x){if(x.stopPropagation(),!this.textToCopy)return;const s=this.textToCopy,_=document.createElement("textarea");_.value=s,document.body.appendChild(_),_.select(),document.execCommand("copy"),this.textCopied=!0,this.copy.emit(),setTimeout(()=>{this.textCopied=!1},2e3),document.body.removeChild(_),this.notificationText&&this.generalService.showNotification({message:this.notificationText,style:"info"})}}return p.\u0275fac=function(x){return new(x||p)(t.Y36(E.m))},p.\u0275cmp=t.Xpm({type:p,selectors:[["","convoy-copy-button",""],["convoy-copy-button"]],inputs:{textToCopy:["text","textToCopy"],notificationText:"notificationText",size:"size",class:["className","class"]},outputs:{copy:"copyText"},standalone:!0,features:[t.jDz],attrs:v,ngContentSelectors:c,decls:5,vars:6,consts:[["convoy-button","","fill","text","type","button","size","sm",1,"relative",3,"click"],["width","14","height","14"],[0,"xlink","href","#copy-alt"]],template:function(x,s){1&x&&(t.F$t(),t.TgZ(0,"div")(1,"button",0),t.NdJ("click",function(a){return s.copyText(a)}),t.O4$(),t.TgZ(2,"svg",1),t._UZ(3,"use",2),t.qZA(),t.Hsn(4),t.qZA()()),2&x&&(t.Tol(s.class),t.xp6(2),t.Tol("sm"===s.size?"fill-grey-40":"fill-primary-100"),t.uIk("height","sm"===s.size?"14":"16")("width","sm"===s.size?"14":"16"))},dependencies:[y.ez,g.r]}),p})()},5456:(O,b,l)=>{l.d(b,{H:()=>B});var y=l(7073),t=l(4151),g=l(6907),E=l(2516),v=l(3927),c=l(1143),u=l(3940),p=l(3720),h=l(1354),x=l(7888),s=l(3270);const _=["searchFilter"];function a(i,m){if(1&i&&(t.TgZ(0,"convoy-tooltip",13),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("position",e.tooltipPosition)("size",e.tooltipSize),t.xp6(1),t.Oqu(e.tooltipContent)}}function n(i,m){1&i&&(t.TgZ(0,"span",14),t._uU(1,"required"),t.qZA())}function o(i,m){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu((null==e.selectedValue?null:e.selectedValue.name)||(null==e.selectedValue?null:e.selectedValue.title)||e.selectedValue)}}function r(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",16),t._uU(1),t.TgZ(2,"button",17),t.NdJ("click",function(){const D=t.CHM(e).$implicit,w=t.oxw(3);return t.KtG(w.removeOption(D))}),t._UZ(3,"img",18),t.qZA()()}if(2&i){const e=m.$implicit;t.xp6(1),t.hij(" ",e.name||e.title||e," ")}}function d(i,m){if(1&i&&(t.ynx(0),t.YNc(1,r,4,1,"div",15),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.selectedOptions)}}function T(i,m){if(1&i&&(t.TgZ(0,"div",19),t._UZ(1,"img",20),t.TgZ(2,"span"),t._uU(3),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(e.errorMessage)}}function S(i,m){1&i&&(t.ynx(0),t.TgZ(1,"li")(2,"div",21),t._UZ(3,"img",22)(4,"input",23,24),t.qZA()(),t.BQk())}function I(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"li",26)(1,"button",27),t.NdJ("click",function(){const D=t.CHM(e).$implicit,w=t.oxw(3);return t.KtG(w.selectOption(D))}),t._uU(2),t.qZA()()}if(2&i){const e=m.$implicit;t.xp6(2),t.Oqu((null==e?null:e.name)||e)}}function M(i,m){if(1&i&&(t.ynx(0),t.YNc(1,I,3,1,"li",25),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.options)}}function A(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"li",29)(1,"button",27),t.NdJ("click",function(){const D=t.CHM(e).$implicit,w=t.oxw(3);return t.KtG(w.selectOption(D))}),t._uU(2),t.qZA()()}if(2&i){const e=m.$implicit;t.xp6(2),t.Oqu((null==e?null:e.name)||e)}}function P(i,m){if(1&i&&(t.ynx(0),t.YNc(1,A,3,1,"li",28),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.options)}}const U=function(i){return{"pointer-events-none":i}};function Z(i,m){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2)(2,"label",3)(3,"div",4),t._uU(4),t.YNc(5,a,2,3,"convoy-tooltip",5),t.qZA(),t.YNc(6,n,2,0,"span",6),t.qZA(),t._UZ(7,"input",7),t.TgZ(8,"div",8),t.YNc(9,o,2,1,"span",9),t.YNc(10,d,2,1,"ng-container",9),t.qZA(),t.YNc(11,T,4,1,"div",10),t.qZA(),t.TgZ(12,"div",11)(13,"ul"),t.YNc(14,S,6,0,"ng-container",9),t.TgZ(15,"li",12),t._uU(16,"Select"),t.qZA(),t.YNc(17,M,2,1,"ng-container",9),t.YNc(18,P,2,1,"ng-container",9),t.qZA()()()),2&i){const e=t.oxw();t.Q6J("className",e.control.touched&&e.control.invalid?"top-[85%]":""),t.xp6(1),t.Q6J("ngClass",t.VKq(14,U,e.readonly)),t.xp6(1),t.Q6J("for",e.name),t.xp6(2),t.hij(" ",e.label," "),t.xp6(1),t.Q6J("ngIf",e.tooltipContent),t.xp6(1),t.Q6J("ngIf",e.required),t.xp6(1),t.Q6J("formControl",e.control)("value",e.option),t.xp6(2),t.Q6J("ngIf",!e.multiple),t.xp6(1),t.Q6J("ngIf",e.multiple),t.xp6(1),t.Q6J("ngIf",e.control.touched&&e.control.invalid),t.xp6(3),t.Q6J("ngIf",e.searchable),t.xp6(3),t.Q6J("ngIf",e.multiple),t.xp6(1),t.Q6J("ngIf",!e.multiple)}}let B=(()=>{class i{constructor(e){this.controlContainer=e,this.options=[],this.required=!1,this.readonly=!1,this.multiple=!1,this.tooltipPosition="left",this.tooltipSize="md",this.searchable=!1,this.selectedOption=new t.vpe,this.searchString=new t.vpe,this.selectedOptions=[]}ngOnInit(){this.controlContainer.control?.get(this.formControlName)&&(this.control=this.controlContainer.control.get(this.formControlName))}selectOption(e){this.multiple?(this.selectedOptions?.find(C=>C===e)||this.selectedOptions?.find(C=>C.uid===e)||this.selectedOptions.push(e),this.updateSelectedOptions()):(this.selectedValue=e,this.selectedOption.emit(e?.uid||e))}removeOption(e){this.selectedOptions=this.selectedOptions.filter(f=>f!==e)||this.selectedOptions.filter(f=>f.uid!==e.uid),this.updateSelectedOptions()}updateSelectedOptions(){const e="string"!=typeof this.selectedOptions[0]?this.selectedOptions.map(f=>f.uid):this.selectedOptions;this.selectedOption.emit(e)}get option(){return this.options?.find(e=>e.uid===this.value)?.name||this.options?.find(e=>e.uid===this.value)?.title||this.options?.find(e=>e===this.value)||""}registerOnChange(){}registerOnTouched(){}writeValue(e){if(e){if(this.options?.length&&"string"!=typeof this.options[0]&&!this.multiple)return this.selectedValue=this.options?.find(f=>f.uid===e);if(this.multiple&&"string"!=typeof e&&0===this.selectedOptions?.length&&setTimeout(()=>{e.forEach(f=>{this.selectedOptions.push({uid:f,name:this.options?.find(C=>C.uid===f)?.name||this.options?.find(C=>C===f)})})},100),!this.multiple)return this.selectedValue=e}}setDisabledState(){}ngAfterViewInit(){this.searchable&&(0,E.R)(this.searchFilter?.nativeElement,"keyup").pipe((0,v.U)(e=>e.target.value),(0,c.O)(""),(0,u.b)(500),(0,p.x)()).subscribe(e=>{this.searchString.emit(e)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.gN))},i.\u0275cmp=t.Xpm({type:i,selectors:[["convoy-select"]],viewQuery:function(e,f){if(1&e&&t.Gf(_,5),2&e){let C;t.iGM(C=t.CRH())&&(f.searchFilter=C.first)}},inputs:{options:"options",name:"name",errorMessage:"errorMessage",label:"label",formControlName:"formControlName",required:"required",readonly:"readonly",multiple:"multiple",placeholder:"placeholder",class:["className","class"],value:"value",tooltipPosition:"tooltipPosition",tooltipSize:"tooltipSize",tooltipContent:"tooltipContent",searchable:"searchable"},outputs:{selectedOption:"selectedOption",searchString:"searchString"},standalone:!0,features:[t._Bn([{provide:g.JU,useExisting:(0,t.Gpc)(()=>i),multi:!0}]),t.jDz],decls:1,vars:1,consts:[["convoy-dropdown","","size","full","position","center",3,"className",4,"ngIf"],["convoy-dropdown","","size","full","position","center",3,"className"],["dropdownTrigger","",1,"w-full",3,"ngClass"],[1,"w-full","font-medium","text-12","text-grey-40","mb-8px","flex","items-center","justify-between",3,"for"],[1,"flex","items-center"],["class","ml-4px",3,"position","size",4,"ngIf"],["class","text-10 bg-grey-10 rounded-4px px-1 font-normal",4,"ngIf"],["type","text","hidden","","readonly","",3,"formControl","value"],[1,"transition-all","duration-[.3s]","w-full","font-medium","text-14","text-grey-100","border","border-grey-20","valid:border-primary-500","disabled:border-primary-500","disabled:bg-[#F7F9FC]","hover:bg-primary-500","hover:border-grey-20","focus:border-primary-100","focus:bg-white-100","outline-none","rounded-4px","bg-[#F7F9FC]","py-12px","px-16px","appearance-none","bg-[url(/assets/img/angle-down.svg)]","bg-no-repeat","bg-[right_10px_top_15px]","min-h-[48px]","cursor-pointer","flex","items-center","flex-wrap"],[4,"ngIf"],["class","flex items-center text-12 text-danger-100 mt-8px",4,"ngIf"],["dropdownOptions","",1,"py-20px","pl-20px","w-full","max-h-[300px]","scroll-m-0","scroll-auto"],[1,"text-14","text-grey-20"],[1,"ml-4px",3,"position","size"],[1,"text-10","bg-grey-10","rounded-4px","px-1","font-normal"],["class","border border-grey-10 bg-grey-10 px-4px font-medium text-12 mr-1 mb-1 rounded-4px flex items-center",4,"ngFor","ngForOf"],[1,"border","border-grey-10","bg-grey-10","px-4px","font-medium","text-12","mr-1","mb-1","rounded-4px","flex","items-center"],["convoy-button","","fill","text","type","button",1,"py-0","px-0",3,"click"],["src","/assets/img/close-icon-black.svg","width","12px","alt","close icon",1,"ml-4px"],[1,"flex","items-center","text-12","text-danger-100","mt-8px"],["src","assets/img/input-error-icon.svg","alt","input error icon",1,"mr-8px","w-16px"],[1,"my-10px","mr-20px","border","border-primary-400","h-36px","px-14px","rounded-[10px]","flex","items-center","bg-white-100"],["src","/assets/img/search-icon.svg","alt","search icon",1,"mr-10px","w-14px"],["type","search","placeholder","Search here",1,"w-full","outline-none","text-12"],["searchFilter",""],["class","list-none py-10px border-b border-grey-20",4,"ngFor","ngForOf"],[1,"list-none","py-10px","border-b","border-grey-20"],["convoy-button","","color","transparent","type","button","fill","text",1,"text-12","w-full","!justify-start",3,"click"],["class","list-none py-10px border-b border-grey-20","convoy-dropdown-option","",4,"ngFor","ngForOf"],["convoy-dropdown-option","",1,"list-none","py-10px","border-b","border-grey-20"]],template:function(e,f){1&e&&t.YNc(0,Z,19,16,"div",0),2&e&&t.Q6J("ngIf",f.control)},dependencies:[y.ez,y.mk,y.sg,y.O5,g.UX,g.Fj,g.JJ,g.oH,s.K,x.J,h.r,x.o]}),i})()}}]);
//# sourceMappingURL=132.da22a27c2c748c68.js.map