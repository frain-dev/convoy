"use strict";(self.webpackChunkconvoy_ng=self.webpackChunkconvoy_ng||[]).push([[775],{3117:(Z,v,r)=>{r.d(v,{A:()=>y});var p=r(7073),e=r(4151);const l=["convoy-card",""],t=["*"];let y=(()=>{class u{constructor(){this.hover="false",this.color="default"}ngOnInit(){}get classes(){return`${{default:"bg-[#fff] border border-grey-10",danger:"bg-danger-500 border border-danger-200"}[this.color]} ${"true"===this.hover?"focus:shadow-sm hover:shadow-sm focus-visible:shadow-sm hover:border-grey-20 focus:border-grey-20 focus-visible:border-grey-20 outline-none":""} block`}}return u.\u0275fac=function(d){return new(d||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["","convoy-card",""]],hostAttrs:[1,"rounded-8px"],hostVars:2,hostBindings:function(d,x){2&d&&e.Tol(x.classes)},inputs:{hover:"hover",color:"color"},standalone:!0,features:[e.jDz],attrs:l,ngContentSelectors:t,decls:1,vars:0,template:function(d,x){1&d&&(e.F$t(),e.Hsn(0))},dependencies:[p.ez],encapsulation:2}),u})()},2065:(Z,v,r)=>{r.d(v,{s:()=>h});var p=r(7073),e=r(4151),l=r(1354);function t(s,g){if(1&s&&e._UZ(0,"img",6),2&s){const c=e.oxw();e.Q6J("src",c.imgSrc,e.LSH)}}function y(s,g){if(1&s&&(e.TgZ(0,"h2",7),e._uU(1),e.qZA()),2&s){const c=e.oxw();e.xp6(1),e.Oqu(c.heading)}}function u(s,g){if(1&s&&(e.TgZ(0,"p",8),e._uU(1),e.qZA()),2&s){const c=e.oxw();e.xp6(1),e.Oqu(c.description)}}function m(s,g){if(1&s){const c=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(c);const _=e.oxw();return e.KtG(_.onAction.emit())}),e._uU(1),e.qZA()}if(2&s){const c=e.oxw();e.xp6(1),e.Oqu(c.buttonText)}}const d=[[["","emptyStateCTA",""]]],x=["[emptyStateCTA]"];let h=(()=>{class s{constructor(){this.onAction=new e.vpe}ngOnInit(){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["convoy-empty-state"],["","convoy-empty-state",""]],inputs:{imgSrc:"imgSrc",heading:"heading",description:"description",buttonText:"buttonText"},outputs:{onAction:"onAction"},standalone:!0,features:[e.jDz],ngContentSelectors:x,decls:7,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center"],["alt","empty state","class","mb-46px max-h-[156px]",3,"src",4,"ngIf"],["class","font-semibold mb-14px text-center",4,"ngIf"],["class","text-14 text-grey-60 w-full max-w-[600px] text-center mt-8px",4,"ngIf"],["convoy-button","","class","mt-22px",3,"click",4,"ngIf"],[1,"empty:hidden"],["alt","empty state",1,"mb-46px","max-h-[156px]",3,"src"],[1,"font-semibold","mb-14px","text-center"],[1,"text-14","text-grey-60","w-full","max-w-[600px]","text-center","mt-8px"],["convoy-button","",1,"mt-22px",3,"click"]],template:function(c,f){1&c&&(e.F$t(d),e.TgZ(0,"div",0),e.YNc(1,t,1,1,"img",1),e.YNc(2,y,2,1,"h2",2),e.YNc(3,u,2,1,"p",3),e.YNc(4,m,2,1,"button",4),e.TgZ(5,"div",5),e.Hsn(6),e.qZA()()),2&c&&(e.xp6(1),e.Q6J("ngIf",f.imgSrc),e.xp6(1),e.Q6J("ngIf",f.heading),e.xp6(1),e.Q6J("ngIf",f.description),e.xp6(1),e.Q6J("ngIf",f.buttonText))},dependencies:[p.ez,p.O5,l.r],encapsulation:2}),s})()},9775:(Z,v,r)=>{r.r(v),r.d(v,{ProjectsModule:()=>O});var p=r(7073),e=r(9369),l=r(7205),t=r(4151),y=r(6440),u=r(7542),m=r(1354),d=r(2895),x=r(2065),h=r(3117);function s(n,a){1&n&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),t.O4$(),t.TgZ(4,"svg",12),t._UZ(5,"use",13),t.qZA()(),t.kcU(),t._UZ(6,"div",14),t.qZA(),t._UZ(7,"div",15),t.qZA(),t.TgZ(8,"div",16)(9,"div",17),t._UZ(10,"div",18),t.qZA(),t.TgZ(11,"div",19),t._UZ(12,"div",15)(13,"div",20),t.qZA()()())}function g(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"div",4)(2,"div",5),t.TgZ(3,"div",6),t.YNc(4,s,14,0,"div",7),t.qZA(),t.BQk()),2&n){const o=t.oxw();t.xp6(4),t.Q6J("ngForOf",o.projectsLoaderIndex)}}const c=function(n){return{"rotate-180":n}};function f(n,a){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"button",28),t.NdJ("click",function(){const U=t.CHM(o).$implicit,E=t.oxw(2);return t.KtG(E.getProjectCompleteDetails(U.uid))}),t.TgZ(2,"div",9)(3,"div",10)(4,"div",11),t.O4$(),t.TgZ(5,"svg",29),t._UZ(6,"use",13),t.qZA()(),t.kcU(),t.TgZ(7,"h4",30),t._uU(8),t.qZA()(),t.TgZ(9,"div",31),t._uU(10),t.qZA()(),t.TgZ(11,"div",16)(12,"div",32)(13,"span",33),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"span",34),t._uU(17),t.qZA()(),t.TgZ(18,"div",35)(19,"div",36)(20,"span",33),t._uU(21),t.ALo(22,"number"),t.qZA(),t.TgZ(23,"span",34),t._uU(24,"Endpoints"),t.qZA()(),t.O4$(),t.TgZ(25,"svg",37),t._UZ(26,"use",38),t.qZA()()()(),t.BQk()}if(2&n){const o=a.$implicit;t.xp6(5),t.Q6J("ngClass",t.VKq(10,c,"incoming"===o.type)),t.xp6(3),t.Oqu(o.name),t.xp6(2),t.Oqu(o.type||"-"),t.xp6(4),t.Oqu(t.lcZ(15,6,null==o.statistics?null:o.statistics.messages_sent)),t.xp6(3),t.hij("Events ","incoming"===o.type?"Received":"Sent",""),t.xp6(4),t.Oqu(t.lcZ(22,8,null==o.statistics?null:o.statistics.total_endpoints))}}function _(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h3",21),t._uU(2,"Projects"),t.qZA(),t.TgZ(3,"p",22),t._uU(4,"All your project's summary at a glance"),t.qZA(),t.TgZ(5,"div",6)(6,"a",23),t.O4$(),t.TgZ(7,"svg",24),t._UZ(8,"use",25),t.qZA(),t.kcU(),t.TgZ(9,"span",26),t._uU(10,"Create new project"),t.qZA()(),t.YNc(11,f,27,12,"ng-container",27),t.qZA(),t.BQk()),2&n){const o=t.oxw();t.xp6(11),t.Q6J("ngForOf",o.projects)}}function j(n,a){1&n&&(t.TgZ(0,"div",39)(1,"div",40)(2,"button",41),t._uU(3,"Create a Project"),t.qZA()()())}function T(n,a){1&n&&t._UZ(0,"convoy-loader",42)}let C=(()=>{class n{constructor(o,i){this.privateService=o,this.router=i,this.projects=[],this.isLoadingProjects=!1,this.projectsLoaderIndex=[0,1,2,3,4],this.showOrganisationModal=!1,this.isLoadingProject=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.reloadSubscription=this.router.events.subscribe(b=>{b instanceof l.m2&&(this.router.navigated=!1)})}ngOnInit(){var o=this;return(0,e.Z)(function*(){o.getProjects()})()}ngOnDestroy(){this.reloadSubscription?.unsubscribe()}getProjects(){var o=this;return(0,e.Z)(function*(){o.isLoadingProjects=!0;try{const i=yield o.privateService.getProjects();o.projects=i.data,delete o.privateService.activeProjectDetails,o.isLoadingProjects=!1}catch{o.isLoadingProjects=!1}})()}getProjectCompleteDetails(o){var i=this;return(0,e.Z)(function*(){i.isLoadingProject=!0;try{yield i.privateService.getProjectDetails({refresh:!0,projectId:o}).then(()=>i.privateService.getProjectStat({refresh:!0})),i.router.navigate([`/projects/${o}`])}catch{i.isLoadingProject=!1}})()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(y.i),t.Y36(l.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-projects"]],decls:5,vars:4,consts:[["convoy-page",""],[4,"ngIf"],["class","py-100px mt-24px","convoy-card","",4,"ngIf"],["position","fixed",4,"ngIf"],[1,"bg-grey-10","rounded-[24px]","animate-pulse","h-4","w-20","mb-20px"],[1,"bg-grey-10","rounded-[24px]","animate-pulse","h-4","w-60","mb-24px"],[1,"grid","grid-cols-3","desktop:grid-cols-2","gap-6"],["class","rounded-8px bg-white-100 block border border-grey-10",4,"ngFor","ngForOf"],[1,"rounded-8px","bg-white-100","block","border","border-grey-10"],[1,"px-6","py-4","flex","items-center","justify-between","border-b","border-b-grey-10"],[1,"flex","items-center"],[1,"bg-primary-500","w-6","h-6","rounded-[50px]","mr-2","flex","items-center","justify-center"],["width","16","height","16","fill","#477db3","stroke","#477db3"],[0,"xlink","href","#top-right-icon"],[1,"bg-grey-10","rounded-[24px]","animate-pulse","h-4","w-140px"],[1,"bg-grey-10","rounded-[24px]","animate-pulse","h-4","w-16"],[1,"flex","items-center","p-0"],[1,"py-2","px-6","w-2/5"],[1,"bg-grey-10","rounded-[24px]","animate-pulse","h-4","w-18"],[1,"py-2","px-6","w-3/5","flex","items-center","justify-between","border-l","border-l-grey-10"],[1,"bg-grey-10","rounded-[24px]","animate-pulse","h-4","w-10"],[1,"mb-2","font-semibold"],[1,"text-grey-40","text-14","font-medium","mb-24px"],["routerLink","./new",1,"rounded-8px","bg-white-100","border","border-dashed","border-primary-100","flex","items-center","justify-center","py-8","transition-all","duration-300","hover:shadow-[0_4px_20px_-2px_rgba(50,50,71,0.08)]"],["width","22","height","22","fill","#477db3",1,"mr-2"],[0,"xlink","href","#plus-icon"],[1,"text-primary-100","font-medium","text-16"],[4,"ngFor","ngForOf"],[1,"rounded-8px","bg-white-100","block","border","border-grey-10","transition-all","duration-300","hover:shadow-[0_4px_20px_-2px_rgba(50,50,71,0.08)]","text-left",3,"click"],["width","16","height","16",1,"fill-primary-100","stroke-primary-100",3,"ngClass"],[1,"cursor-pointer","text-14","font-medium"],[1,"bg-primary-500","rounded-8px","px-2","pt-[1px]","text-10","font-medium","text-primary-100","uppercase"],[1,"py-2","px-6","text-12","font-medium","w-1/2","whitespace-nowrap"],[1,"text-black","mr-2"],[1,"text-grey-40"],[1,"py-2","px-6","w-1/2","whitespace-nowrap","flex","items-center","justify-between","border-l","border-l-grey-10"],[1,"text-12","font-medium"],["width","20","height","20","fill","#477db3"],[0,"xlink","href","#arrow-right-icon"],["convoy-card","",1,"py-100px","mt-24px"],["convoy-empty-state","","imgSrc","/assets/img/events-empty-state-image.svg","heading","You currently have no projects","description","Your incoming and outgoing projects appear here.","id","subscriptions-empty-state"],["convoy-button","","emptyStateCTA","","routerLink","./new",1,"mt-36px"],["position","fixed"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,g,5,1,"ng-container",1),t.YNc(2,_,12,1,"ng-container",1),t.YNc(3,j,4,0,"div",2),t.YNc(4,T,1,0,"convoy-loader",3),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.isLoadingProjects),t.xp6(1),t.Q6J("ngIf",!i.isLoadingProjects&&i.projects.length),t.xp6(1),t.Q6J("ngIf",!i.isLoadingProjects&&!i.projects.length),t.xp6(1),t.Q6J("ngIf",i.isLoadingProject))},dependencies:[p.mk,p.sg,p.O5,l.rH,l.yS,u.R,m.r,d.i,x.s,h.A,p.JJ]}),n})();var P=r(6906),A=r(4341),w=r(385);const S=[{path:"",component:C}];let O=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,l.Bz.forChild(S),P.i,A.q,m.r,w.zS,x.s,h.A]}),n})()}}]);
//# sourceMappingURL=775.e12b31455b650460.js.map