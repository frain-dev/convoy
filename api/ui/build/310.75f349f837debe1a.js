"use strict";(self.webpackChunkconvoy_ng=self.webpackChunkconvoy_ng||[]).push([[310],{2065:(C,b,a)=>{a.d(b,{s:()=>_});var c=a(7073),n=a(4151),t=a(1354);function v(l,g){if(1&l&&n._UZ(0,"img",6),2&l){const u=n.oxw();n.Q6J("src",u.imgSrc,n.LSH)}}function S(l,g){if(1&l&&(n.TgZ(0,"h2",7),n._uU(1),n.qZA()),2&l){const u=n.oxw();n.xp6(1),n.Oqu(u.heading)}}function x(l,g){if(1&l&&(n.TgZ(0,"p",8),n._uU(1),n.qZA()),2&l){const u=n.oxw();n.xp6(1),n.Oqu(u.description)}}function d(l,g){if(1&l){const u=n.EpF();n.TgZ(0,"button",9),n.NdJ("click",function(){n.CHM(u);const h=n.oxw();return n.KtG(h.onAction.emit())}),n._uU(1),n.qZA()}if(2&l){const u=n.oxw();n.xp6(1),n.Oqu(u.buttonText)}}const m=[[["","emptyStateCTA",""]]],s=["[emptyStateCTA]"];let _=(()=>{class l{constructor(){this.onAction=new n.vpe}ngOnInit(){}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275cmp=n.Xpm({type:l,selectors:[["convoy-empty-state"],["","convoy-empty-state",""]],inputs:{imgSrc:"imgSrc",heading:"heading",description:"description",buttonText:"buttonText"},outputs:{onAction:"onAction"},standalone:!0,features:[n.jDz],ngContentSelectors:s,decls:7,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center"],["alt","empty state","class","mb-46px max-h-[156px]",3,"src",4,"ngIf"],["class","font-semibold mb-14px text-center",4,"ngIf"],["class","text-14 text-grey-60 w-full max-w-[600px] text-center mt-8px",4,"ngIf"],["convoy-button","","class","mt-22px",3,"click",4,"ngIf"],[1,"empty:hidden"],["alt","empty state",1,"mb-46px","max-h-[156px]",3,"src"],[1,"font-semibold","mb-14px","text-center"],[1,"text-14","text-grey-60","w-full","max-w-[600px]","text-center","mt-8px"],["convoy-button","",1,"mt-22px",3,"click"]],template:function(u,f){1&u&&(n.F$t(m),n.TgZ(0,"div",0),n.YNc(1,v,1,1,"img",1),n.YNc(2,S,2,1,"h2",2),n.YNc(3,x,2,1,"p",3),n.YNc(4,d,2,1,"button",4),n.TgZ(5,"div",5),n.Hsn(6),n.qZA()()),2&u&&(n.xp6(1),n.Q6J("ngIf",f.imgSrc),n.xp6(1),n.Q6J("ngIf",f.heading),n.xp6(1),n.Q6J("ngIf",f.description),n.xp6(1),n.Q6J("ngIf",f.buttonText))},dependencies:[c.ez,c.O5,t.r],encapsulation:2}),l})()},5454:(C,b,a)=>{a.d(b,{z:()=>S});var c=a(7073),n=a(4151),t=a(1354),v=a(385);let S=(()=>{class x{constructor(){this.closeModal=new n.vpe,this.deleteData=new n.vpe,this.isLoading=!1}ngOnInit(){}}return x.\u0275fac=function(m){return new(m||x)},x.\u0275cmp=n.Xpm({type:x,selectors:[["app-delete-modal"]],inputs:{isLoading:"isLoading",deleteText:"deleteText",deleteButtonText:"deleteButtonText"},outputs:{closeModal:"closeModal",deleteData:"deleteData"},standalone:!0,features:[n.jDz],decls:11,vars:3,consts:[["convoy-modal","","position","center","size","sm",3,"closeModal"],[1,"flex","flex-col","justify-center","items-center","px-20px","py-30px"],["src","/assets/img/warning.gif","alt","warning",1,"h-[126px]","w-[126px]"],[1,"text-16","font-semibold","text-black","mb-8px","text-center"],[1,"text-14","font-medium","text-grey-40","mb-20px"],["convoy-button","","color","danger",1,"mb-24px",3,"disabled","click"],["convoy-button","","fill","text",1,"font-semibold",3,"click"]],template:function(m,s){1&m&&(n.TgZ(0,"div",0),n.NdJ("closeModal",function(){return s.closeModal.emit()}),n.TgZ(1,"div",1),n._UZ(2,"img",2),n.TgZ(3,"p",3),n._uU(4),n.qZA(),n.TgZ(5,"p",4),n._uU(6,"This action is irrevesible."),n.qZA(),n.TgZ(7,"button",5),n.NdJ("click",function(){return s.deleteData.emit()}),n._uU(8),n.qZA(),n.TgZ(9,"button",6),n.NdJ("click",function(){return s.closeModal.emit()}),n._uU(10,"No, Cancel"),n.qZA()()()),2&m&&(n.xp6(4),n.hij("Are you sure you want to ",s.deleteText,"?"),n.xp6(3),n.Q6J("disabled",s.isLoading),n.xp6(1),n.Oqu(s.deleteButtonText?"Yes, "+s.deleteButtonText:"Yes, Delete"))},dependencies:[c.ez,v.zS,t.r]}),x})()},4430:(C,b,a)=>{a.d(b,{Q:()=>x});var c=a(4151),n=a(7073),t=a(7205),v=a(1354);function S(d,m){if(1&d){const s=c.EpF();c.TgZ(0,"div",1)(1,"button",2),c.NdJ("click",function(){c.CHM(s);const l=c.oxw();return c.KtG(l.prev({prev_page_cursor:l.paginationData.prev_page_cursor}))}),c.O4$(),c.TgZ(2,"svg",3),c._UZ(3,"use",4),c.qZA(),c._uU(4," Previous "),c.qZA(),c.kcU(),c.TgZ(5,"button",5),c.NdJ("click",function(){c.CHM(s);const l=c.oxw();return c.KtG(l.next({next_page_cursor:l.paginationData.next_page_cursor}))}),c._uU(6," Next "),c.O4$(),c.TgZ(7,"svg",6),c._UZ(8,"use",7),c.qZA()()()}if(2&d){const s=c.oxw();c.xp6(1),c.Q6J("disabled",!s.paginationData.has_prev_page),c.xp6(4),c.Q6J("disabled",!s.paginationData.has_next_page)}}let x=(()=>{class d{constructor(){this.paginate=new c.vpe}ngOnInit(){}next(s){this.paginate.emit({...s,direction:"next",prev_page_cursor:""})}prev(s){this.paginate.emit({...s,direction:"prev",next_page_cursor:""})}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["convoy-pagination"]],inputs:{paginationData:["pagination","paginationData"]},outputs:{paginate:"paginate"},standalone:!0,features:[c.jDz],decls:1,vars:1,consts:[["class","flex items-center mt-16px mb-24px",4,"ngIf"],[1,"flex","items-center","mt-16px","mb-24px"],["convoy-button","","fill","outline","size","sm",1,"pl-4px","pr-16px","py-4px","border-primary-300",3,"disabled","click"],["width","24","height","24",1,"mr-8px","fill-primary-100"],[0,"xlink","href","#arrow-left-icon"],["convoy-button","","fill","outline","size","sm",1,"pr-4px","pl-16px","py-4px","border-primary-300","ml-16px",3,"disabled","click"],["width","24","height","24",1,"ml-8px","fill-primary-100"],[0,"xlink","href","#arrow-right-icon"]],template:function(s,_){1&s&&c.YNc(0,S,9,2,"div",0),2&s&&c.Q6J("ngIf",_.paginationData)},dependencies:[n.ez,n.O5,t.Bz,v.r]}),d})()},2310:(C,b,a)=>{a.r(b),a.d(b,{SubscriptionsModule:()=>et});var c=a(7073),n=a(9369),t=a(4151),v=a(7205),S=a(6440),x=a(4330),d=a(2379),m=a(1354),s=a(385),_=a(3117),l=a(455),g=a(2065),u=a(1549),f=a(5454),h=a(3270),w=a(4430),U=a(2597);function M(i,r){1&i&&(t.TgZ(0,"div",11)(1,"div",12)(2,"button",13),t._uU(3,"Create a subscription"),t.qZA()()())}function D(i,r){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"div",15)(2,"div",15)(3,"div",15)(4,"div",15)(5,"div",15)(6,"div",15),t.qZA())}function P(i,r){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"div",16)(2,"div",16)(3,"div",16)(4,"div",16)(5,"div",16)(6,"div",16),t.qZA())}function q(i,r){1&i&&(t.TgZ(0,"convoy-tag",35),t.O4$(),t.TgZ(1,"svg",36),t._UZ(2,"use",37),t.qZA(),t._uU(3," CLI Device "),t.qZA())}const I=function(){return["./"]},Z=function(i){return{id:i}};function L(i,r){if(1&i&&(t.TgZ(0,"div",24)(1,"div",25),t._uU(2),t.qZA(),t.TgZ(3,"div",26)(4,"div",27)(5,"div",28),t._uU(6),t.ALo(7,"sourceValue"),t.qZA(),t.TgZ(8,"div",29),t._uU(9),t.qZA()(),t.TgZ(10,"div",30),t.O4$(),t.TgZ(11,"svg",31),t._UZ(12,"path",32),t.qZA()(),t.kcU(),t.TgZ(13,"div",33)(14,"div",28),t._uU(15,"Endpoint"),t.qZA(),t.TgZ(16,"div",29),t._uU(17),t.qZA(),t.YNc(18,q,4,0,"convoy-tag",34),t.qZA()()()),2&i){const e=r.$implicit;t.Q6J("routerLink",t.DdM(10,I))("queryParams",t.VKq(11,Z,e.uid)),t.xp6(2),t.Oqu(e.name),t.xp6(4),t.hij("",e.source_metadata.provider||t.xi3(7,7,e.source_metadata.verifier.type,"verifier")," Source"),t.xp6(3),t.Oqu(e.source_metadata.name),t.xp6(8),t.Oqu(null==e.endpoint_metadata?null:e.endpoint_metadata.title),t.xp6(1),t.Q6J("ngIf",!(null!=e.endpoint_metadata&&e.endpoint_metadata.title))}}function O(i,r){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,L,19,13,"div",23),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.subscriptions?null:e.subscriptions.content)}}function J(i,r){if(1&i&&(t.TgZ(0,"div",46)(1,"div",57),t._uU(2," Endpoint Secret "),t._UZ(3,"convoy-copy-button",58),t.qZA()()),2&i){const e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(3),t.Q6J("text",o.getEndpointSecret(null==e.endpoint_metadata?null:e.endpoint_metadata.secrets)||"")}}const E=function(i){return{"border-b border-b-grey-10":i}};function j(i,r){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",45)(1,"div",46)(2,"div",47),t._uU(3,"Endpoint"),t.qZA(),t.TgZ(4,"div",48),t._uU(5),t.qZA()(),t.TgZ(6,"div",49)(7,"div",50),t._uU(8),t.qZA(),t._UZ(9,"convoy-copy-button",51),t.qZA(),t.YNc(10,J,4,1,"div",52),t.TgZ(11,"div",53)(12,"a",54)(13,"div",55),t._uU(14,"Go to endpoint"),t.qZA(),t.O4$(),t.TgZ(15,"svg",56),t._UZ(16,"use",3),t.qZA()()()()),2&i){const e=t.oxw().$implicit,o=t.oxw(3);t.Q6J("ngClass",t.VKq(6,E,"incoming"===(null==o.privateService.activeProjectDetails?null:o.privateService.activeProjectDetails.type))),t.xp6(5),t.Oqu(null==e||null==e.endpoint_metadata?null:e.endpoint_metadata.title),t.xp6(3),t.hij(" ",null==e||null==e.endpoint_metadata?null:e.endpoint_metadata.target_url," "),t.xp6(1),t.Q6J("text",(null==e||null==e.endpoint_metadata?null:e.endpoint_metadata.target_url)||""),t.xp6(1),t.Q6J("ngIf",null==e||null==e.endpoint_metadata||null==e.endpoint_metadata.secrets?null:e.endpoint_metadata.secrets.length),t.xp6(2),t.Q6J("routerLink","/projects/"+o.projectId+"/endpoints/"+(null==e.endpoint_metadata?null:e.endpoint_metadata.uid))}}function Q(i,r){if(1&i&&(t.TgZ(0,"div",39)(1,"div",40)(2,"div",18)(3,"h4",41),t._uU(4),t.qZA()(),t.TgZ(5,"div",18)(6,"a",42),t._uU(7," View details "),t.O4$(),t.TgZ(8,"svg",43),t._UZ(9,"use",3),t.qZA()()()(),t.YNc(10,j,17,8,"div",44),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("queryParams",t.VKq(4,Z,e.uid)),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("queryParams",t.VKq(6,Z,e.uid)),t.xp6(4),t.Q6J("ngIf",null==e?null:e.endpoint_metadata)}}function N(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Q,11,8,"div",38),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.subscriptions?null:e.subscriptions.content)}}function k(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"convoy-pagination",59),t.NdJ("paginate",function(p){t.CHM(e);const y=t.oxw(2);return t.KtG(y.getSubscriptions(p))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("pagination",null==e.subscriptions?null:e.subscriptions.pagination)}}function K(i,r){if(1&i&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"h1",19),t._uU(4,"Subscriptions"),t.qZA(),t._UZ(5,"convoy-tooltip",20),t.qZA(),t.TgZ(6,"button",21),t._uU(7,"Create a subscription"),t.qZA()(),t.YNc(8,O,2,1,"div",6),t.YNc(9,N,2,1,"ng-container",7),t.YNc(10,k,1,1,"convoy-pagination",22),t.qZA()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngIf","incoming"===(null==e.privateService.activeProjectDetails?null:e.privateService.activeProjectDetails.type)),t.xp6(1),t.Q6J("ngIf","outgoing"===(null==e.privateService.activeProjectDetails?null:e.privateService.activeProjectDetails.type)),t.xp6(1),t.Q6J("ngIf",(null==e.subscriptions||null==e.subscriptions.pagination?null:e.subscriptions.pagination.has_next_page)||(null==e.subscriptions||null==e.subscriptions.pagination?null:e.subscriptions.pagination.has_prev_page))}}function Y(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",60),t.NdJ("closeModal",function(){t.CHM(e);const p=t.oxw();return t.KtG(p.createSubscription("cancel"))}),t.TgZ(1,"div",61)(2,"div",18)(3,"button",62),t.NdJ("click",function(){t.CHM(e);const p=t.oxw();return t.KtG(p.createSubscription("cancel"))}),t._UZ(4,"img",63),t.qZA(),t.TgZ(5,"h2",64),t._uU(6),t.qZA()()(),t.TgZ(7,"div",65)(8,"convoy-create-subscription",66),t.NdJ("onAction",function(p){t.CHM(e);const y=t.oxw();return t.KtG(y.createSubscription(p.action))}),t.qZA()()()}if(2&i){const e=t.oxw();t.Q6J("id","subscriptionForm"),t.xp6(6),t.Oqu(e.showUpdateSubscriptionModal?"Update Subscription":"Create Subscription"),t.xp6(2),t.Q6J("action",e.showUpdateSubscriptionModal?"update":"create")}}function z(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"app-delete-modal",67),t.NdJ("closeModal",function(){t.CHM(e);const p=t.oxw();return t.KtG(p.showDeleteSubscriptionModal=!1)})("deleteData",function(){t.CHM(e);const p=t.oxw();return t.KtG(p.deleteSubscripton())}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("isLoading",e.isDeletingSubscription)("deleteText","delete \u201c"+(null==e.activeSubscription?null:e.activeSubscription.name)+"\u201d")}}const A=function(i){return[i]};function B(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"h2",74),t._uU(2,"Source"),t.qZA(),t.TgZ(3,"div",75)(4,"div",76)(5,"div",28),t._uU(6),t.ALo(7,"sourceValue"),t.qZA(),t.TgZ(8,"div",77)(9,"div",78),t._uU(10),t.qZA(),t.O4$(),t.TgZ(11,"svg",79),t._UZ(12,"use",3),t.qZA()()(),t.kcU(),t.TgZ(13,"div",80)(14,"convoy-copy-button",81)(15,"span",82),t._uU(16,"Copy URL"),t.qZA()()()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("routerLink",t.VKq(9,A,"/projects/"+(null==e.privateService.activeProjectDetails?null:e.privateService.activeProjectDetails.uid)+"/sources"))("queryParams",t.VKq(11,Z,null==e.activeSubscription||null==e.activeSubscription.source_metadata?null:e.activeSubscription.source_metadata.uid)),t.xp6(2),t.Oqu((null==e.activeSubscription||null==e.activeSubscription.source_metadata?null:e.activeSubscription.source_metadata.provider)||t.xi3(7,6,(null==e.activeSubscription||null==e.activeSubscription.source_metadata||null==e.activeSubscription.source_metadata.verifier?null:e.activeSubscription.source_metadata.verifier.type)||"","verifier")),t.xp6(4),t.Oqu(null==e.activeSubscription||null==e.activeSubscription.source_metadata?null:e.activeSubscription.source_metadata.name),t.xp6(4),t.Q6J("text",(null==e.activeSubscription||null==e.activeSubscription.source_metadata?null:e.activeSubscription.source_metadata.url)||"")("notificationText",(null==e.activeSubscription||null==e.activeSubscription.source_metadata?null:e.activeSubscription.source_metadata.name)+" URL has been copied to clipboard")}}function F(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"h2",74),t._uU(2,"Endpoint"),t.qZA(),t.TgZ(3,"div",83)(4,"div",84)(5,"div",77)(6,"div",78),t._uU(7),t.qZA(),t.O4$(),t.TgZ(8,"svg",79),t._UZ(9,"use",3),t.qZA()()(),t.kcU(),t.TgZ(10,"div",80)(11,"convoy-copy-button",81)(12,"span",82),t._uU(13,"Copy URL"),t.qZA()()()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("routerLink",t.VKq(4,A,"/projects/"+(null==e.privateService.activeProjectDetails?null:e.privateService.activeProjectDetails.uid)+"/endpoints/"+(null==e.activeSubscription||null==e.activeSubscription.endpoint_metadata?null:e.activeSubscription.endpoint_metadata.uid))),t.xp6(3),t.Oqu(null==e.activeSubscription||null==e.activeSubscription.endpoint_metadata?null:e.activeSubscription.endpoint_metadata.title),t.xp6(4),t.Q6J("text",(null==e.activeSubscription||null==e.activeSubscription.endpoint_metadata?null:e.activeSubscription.endpoint_metadata.target_url)||"")("notificationText",(null==e.activeSubscription||null==e.activeSubscription.endpoint_metadata?null:e.activeSubscription.endpoint_metadata.title)+" URL has been copied to clipboard")}}function R(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"h2",74),t._uU(2,"CLI Device"),t.qZA(),t.TgZ(3,"div",85)(4,"div",86)(5,"div",87)(6,"span",88),t._uU(7),t.qZA(),t.TgZ(8,"span",89),t._uU(9),t.qZA()()()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(7),t.Oqu(null==e.activeSubscription||null==e.activeSubscription.device_metadata?null:e.activeSubscription.device_metadata.host_name),t.xp6(1),t.Q6J("type","online"==(null==e.activeSubscription||null==e.activeSubscription.device_metadata?null:e.activeSubscription.device_metadata.status)?"success":"grey"),t.xp6(1),t.Oqu(null==e.activeSubscription||null==e.activeSubscription.device_metadata?null:e.activeSubscription.device_metadata.status)}}function $(i,r){if(1&i){const e=t.EpF();t.ynx(0),t._UZ(1,"hr",90)(2,"convoy-create-subscription",91)(3,"hr",92),t.TgZ(4,"div",93)(5,"button",94),t.NdJ("click",function(){t.CHM(e);const p=t.oxw(2);return t.KtG(p.showDeleteSubscriptionModal=!0)}),t._uU(6," Delete "),t.O4$(),t.TgZ(7,"svg",95),t._UZ(8,"use",96),t.qZA()(),t.kcU(),t.TgZ(9,"button",97),t._uU(10," Edit "),t.O4$(),t.TgZ(11,"svg",98),t._UZ(12,"use",99),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(9),t.Q6J("routerLink","/projects/"+e.projectId+"/subscriptions/"+(null==e.activeSubscription?null:e.activeSubscription.uid))}}function H(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",68),t.NdJ("closeModal",function(){t.CHM(e);const p=t.oxw();return t.KtG(p.closeModal())}),t.TgZ(1,"div",69)(2,"h2",70),t._uU(3),t.qZA(),t.TgZ(4,"button",71),t.NdJ("click",function(){t.CHM(e);const p=t.oxw();return t.KtG(p.closeModal())}),t._UZ(5,"img",72),t.qZA()(),t.TgZ(6,"div",73),t.YNc(7,B,17,13,"ng-container",7),t.YNc(8,F,14,6,"ng-container",7),t.YNc(9,R,10,3,"ng-container",7),t.YNc(10,$,13,1,"ng-container",7),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("id","subscription-details"),t.xp6(3),t.Oqu((null==e.activeSubscription?null:e.activeSubscription.name)||"Subscription Details"),t.xp6(4),t.Q6J("ngIf","incoming"===(null==e.privateService.activeProjectDetails?null:e.privateService.activeProjectDetails.type)),t.xp6(1),t.Q6J("ngIf",null==e.activeSubscription||null==e.activeSubscription.endpoint_metadata?null:e.activeSubscription.endpoint_metadata.uid),t.xp6(1),t.Q6J("ngIf",null==e.activeSubscription||null==e.activeSubscription.device_metadata?null:e.activeSubscription.device_metadata.uid),t.xp6(1),t.Q6J("ngIf",!(null!=e.activeSubscription&&null!=e.activeSubscription.device_metadata&&e.activeSubscription.device_metadata.uid))}}let G=(()=>{class i{constructor(e,o,p,y){this.route=e,this.privateService=o,this.router=p,this.generalService=y,this.shouldShowCreateSubscriptionModal=!1,this.subscriptionsLoaders=[1,2,3,4,5],this.isLoadindingSubscriptions=!1,this.isDeletingSubscription=!1,this.showUpdateSubscriptionModal=!1,this.showDeleteSubscriptionModal=!1,this.projectId=this.privateService.activeProjectDetails?.uid;const T=e.snapshot.params.id;T&&"new"===T&&(this.shouldShowCreateSubscriptionModal=!0),T&&"new"!==T&&(this.showUpdateSubscriptionModal=!0)}ngOnInit(){var e=this;return(0,n.Z)(function*(){yield e.getSubscriptions(),e.route.queryParams.subscribe(o=>e.activeSubscription=e.subscriptions?.content.find(p=>p.uid===o?.id))})()}getSubscriptions(e){var o=this;return(0,n.Z)(function*(){o.isLoadindingSubscriptions=!0;try{const p=yield o.privateService.getSubscriptions(e);o.subscriptions=p.data,0===o.subscriptions?.content?.length?localStorage.setItem("isActiveProjectConfigurationComplete","false"):localStorage.setItem("isActiveProjectConfigurationComplete","true"),o.isLoadindingSubscriptions=!1}catch{o.isLoadindingSubscriptions=!1}})()}closeModal(){this.router.navigateByUrl("/projects/"+this.privateService.activeProjectDetails?.uid+"/subscriptions")}createSubscription(e){this.router.navigateByUrl("/projects/"+this.privateService.activeProjectDetails?.uid+"/subscriptions"),"cancel"!==e&&this.generalService.showNotification({message:`Subscription has been ${e}d successfully`,style:"success"})}deleteSubscripton(){var e=this;return(0,n.Z)(function*(){e.isDeletingSubscription=!0;try{const o=yield e.privateService.deleteSubscription(e.activeSubscription?.uid||"");e.generalService.showNotification({message:o?.message,style:"success"}),e.getSubscriptions(),delete e.activeSubscription,e.showDeleteSubscriptionModal=!1,e.isDeletingSubscription=!1}catch{e.isDeletingSubscription=!1}})()}getEndpointSecret(e){return 1===e?.length?e[0].value:e[e?.length-1].value}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.gz),t.Y36(S.i),t.Y36(v.F0),t.Y36(x.m))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-subscriptions"]],decls:17,vars:8,consts:[[1,"text-12","font-medium","uppercase","flex","items-center","mb-24px"],["routerLink","/projects",1,"cursor-pointer"],["width","16","height","16",1,"mx-1"],[0,"xlink","href","#arrow-right-icon"],[1,"text-primary-100"],["class","py-100px mt-24px","convoy-card","",4,"ngIf"],["class","flex flex-wrap gap-24px",4,"ngIf"],[4,"ngIf"],["convoy-modal","","position","full",3,"id","closeModal",4,"ngIf"],[3,"isLoading","deleteText","closeModal","deleteData",4,"ngIf"],["convoy-modal","","position","right",3,"id","closeModal",4,"ngIf"],["convoy-card","",1,"py-100px","mt-24px"],["convoy-empty-state","","imgSrc","/assets/img/subscriptions-empty-state.png","heading","You currently do not have any subscriptions","description","Webhook subscriptions lets you define the source of your webhook and the destination where any webhook event should be sent. It is what allows Convoy to identify and proxy your webhooks.","id","subscriptions-empty-state"],["convoy-button","","emptyStateCTA","","routerLink","./new",1,"mt-36px"],[1,"flex","flex-wrap","gap-24px"],[1,"bg-grey-10","rounded-8px","animate-pulse","w-348px","h-136px"],[1,"bg-grey-10","rounded-8px","animate-pulse","w-full","h-122px"],[1,"flex","justify-between","items-end","border-b","border-b-grey-10","pb-20px","mb-24px"],[1,"flex","items-center"],[1,"text-24","font-bold","text-grey-80","mr-10px"],["tooltipContent","On Convoy, endpoints are subscribed to listen to events from a source along with configurations like retries and event filters. This page list all your existing subscriptions","position","right"],["convoy-button","","size","sm","routerLink","./new"],[3,"pagination","paginate",4,"ngIf"],["convoy-card","","class","pt-10px transition-all w-full max-w-[356px] cursor-pointer","hover","true",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["convoy-card","","hover","true",1,"pt-10px","transition-all","w-full","max-w-[356px]","cursor-pointer",3,"routerLink","queryParams"],[1,"w-full","text-12","text-grey-60","font-medium","px-24px","border-b","border-b-grey-10","pb-10px"],[1,"flex","items-center","justify-between","pt-24px","px-24px"],[1,"w-114px","mb-24px"],[1,"text-grey-40","text-10","mb-4px"],[1,"text-14","font-medium","text-grey-60","overflow-hidden",2,"display","-webkit-box","-webkit-line-clamp","2","-webkit-box-orient","vertical"],[1,"flex","items-center","justify-center","mb-24px"],["width","29","height","9","viewBox","0 0 29 9","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0.146447 4.14645C-0.0488155 4.34171 -0.0488155 4.65829 0.146447 4.85355L3.32843 8.03553C3.52369 8.2308 3.84027 8.2308 4.03553 8.03553C4.2308 7.84027 4.2308 7.52369 4.03553 7.32843L1.20711 4.5L4.03553 1.67157C4.2308 1.47631 4.2308 1.15973 4.03553 0.964466C3.84027 0.769204 3.52369 0.769204 3.32843 0.964466L0.146447 4.14645ZM28.8536 4.85355C29.0488 4.65829 29.0488 4.34171 28.8536 4.14645L25.6716 0.964466C25.4763 0.769204 25.1597 0.769204 24.9645 0.964466C24.7692 1.15973 24.7692 1.47631 24.9645 1.67157L27.7929 4.5L24.9645 7.32843C24.7692 7.52369 24.7692 7.84027 24.9645 8.03553C25.1597 8.2308 25.4763 8.2308 25.6716 8.03553L28.8536 4.85355ZM0.5 5H28.5V4H0.5V5Z","fill","#737A91"],[1,"text-right","w-114px","mb-24px"],["className","flex items-center float-right",4,"ngIf"],["className","flex items-center float-right"],["width","16","height","14",1,"mr-10px"],[0,"xlink","href","#cli-icon"],["convoy-card","","class","pt-16px mb-16px",4,"ngFor","ngForOf"],["convoy-card","",1,"pt-16px","mb-16px"],["routerLink","./",1,"flex","items-center","justify-between","pb-16px","border-b-4","border-b-grey-10","cursor-pointer",3,"queryParams"],[1,"pl-16px","font-medium","text-14"],["routerLink","./",1,"pr-4","text-primary-100","text-12","flex","items-center",3,"queryParams"],["width","18","height","18",1,"ml-2","fill-primary-100"],["class","flex items-end justify-between pb-8px pl-16px mt-8px",3,"ngClass",4,"ngIf"],[1,"flex","items-end","justify-between","pb-8px","pl-16px","mt-8px",3,"ngClass"],[1,"w-full"],[1,"text-grey-40","text-10","mb-12px"],[1,"text-12"],[1,"w-full","flex","items-center"],[1,"text-12","max-w-[220px]","desktop:max-w-[158px]","overflow-hidden","whitespace-nowrap","text-ellipsis"],["size","md","notificationText","Endpoint URL has been copied to clipboard","className","ml-8px",3,"text"],["class","w-full",4,"ngIf"],[1,"flex","items-center","justify-end","w-[50%]"],[1,"mx-16px","flex","items-center","text-12","text-primary-100","font-medium",3,"routerLink"],[1,"whitespace-nowrap"],["width","18","height","18","fill","#477db3",1,"ml-2"],[1,"text-12","flex","items-center","whitespace-nowrap"],["size","md","notificationText","Endpoint secret has been copied to clipboard","className","ml-8px",3,"text"],[3,"pagination","paginate"],["convoy-modal","","position","full",3,"id","closeModal"],["convoy-modal-header","","fullscreen","true"],["convoy-button","","size","sm","texture","light",1,"px-10px","!py-10px",3,"click"],["src","/assets/img/modal-close-icon.svg","alt","close icon",1,"w-12px"],[1,"font-semibold","capitalize","ml-2"],[1,"max-w-[834px]","m-auto"],["showAction","true",3,"action","onAction"],[3,"isLoading","deleteText","closeModal","deleteData"],["convoy-modal","","position","right",3,"id","closeModal"],["convoy-modal-header",""],[1,"font-semibold","capitalize","max-w-[356px]","overflow-ellipsis","overflow-hidden","whitespace-nowrap"],["convoy-button","","texture","light","size","sm",1,"px-8px","!py-10px",3,"click"],["src","/assets/img/modal-close-icon.svg","alt","close icon"],[1,"p-20px"],[1,"font-medium","mb-10px","text-14","text-grey-40"],["convoy-card","","hover","true",1,"w-full","cursor-pointer","py-20px","mb-24px"],[1,"px-24px","pb-12px","border-b","border-b-grey-10",3,"routerLink","queryParams"],[1,"flex","justify-between","items-center"],[1,"text-14","font-medium"],["width","18","height","18",1,"fill-grey-60"],[1,"mt-12px","mx-24px"],["size","md","className","ml-2px",3,"text","notificationText"],[1,"text-14","ml-8px","font-medium"],["convoy-card","","hover","true",1,"w-full","cursor-pointer","py-20px"],[1,"px-24px","pb-12px","border-b","border-b-grey-10",3,"routerLink"],["convoy-card","","hover","true",1,"w-full","py-20px"],[1,"px-24px"],[1,"text-14","font-medium","flex","items-center"],[1,"max-w-[200px]","overflow-ellipsis","overflow-hidden","whitespace-nowrap","block"],["convoy-tag","",1,"ml-8px",3,"type"],[1,"border-t","border-grey-20","mt-24px","mb-4px"],["action","view"],[1,"border-t","border-grey-20","my-24px"],[1,"flex","items-center","justify-end","mt-40px","mr-24px"],["convoy-button","","size","sm","color","danger","fill","outline",1,"py-8px","px-12px","text-12",3,"click"],["width","18","height","18",1,"ml-2","fill-danger-100"],[0,"xlink","href","#delete-icon"],["convoy-button","","size","sm",1,"py-8px","px-12px","text-12","ml-24px",3,"routerLink"],["width","18","height","18","fill","currentColor",1,"ml-8px"],[0,"xlink","href","#edit-icon"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2,"Projects"),t.qZA(),t.O4$(),t.TgZ(3,"svg",2),t._UZ(4,"use",3),t.qZA(),t._uU(5),t.TgZ(6,"svg",2),t._UZ(7,"use",3),t.qZA(),t.kcU(),t.TgZ(8,"span",4),t._uU(9,"SUBSCRIPTIONS"),t.qZA()(),t.YNc(10,M,4,0,"div",5),t.YNc(11,D,7,0,"div",6),t.YNc(12,P,7,0,"div",6),t.YNc(13,K,11,3,"div",7),t.YNc(14,Y,9,3,"div",8),t.YNc(15,z,1,2,"app-delete-modal",9),t.YNc(16,H,11,6,"div",10)),2&e&&(t.xp6(5),t.hij(" ",null==o.privateService.activeProjectDetails?null:o.privateService.activeProjectDetails.name," "),t.xp6(5),t.Q6J("ngIf",!o.isLoadindingSubscriptions&&0===(null==o.subscriptions||null==o.subscriptions.content?null:o.subscriptions.content.length)),t.xp6(1),t.Q6J("ngIf","incoming"===(null==o.privateService.activeProjectDetails?null:o.privateService.activeProjectDetails.type)&&o.isLoadindingSubscriptions),t.xp6(1),t.Q6J("ngIf","outgoing"===(null==o.privateService.activeProjectDetails?null:o.privateService.activeProjectDetails.type)&&o.isLoadindingSubscriptions),t.xp6(1),t.Q6J("ngIf",!o.isLoadindingSubscriptions&&(null==o.subscriptions||null==o.subscriptions.content?null:o.subscriptions.content.length)),t.xp6(1),t.Q6J("ngIf",o.shouldShowCreateSubscriptionModal||o.showUpdateSubscriptionModal),t.xp6(1),t.Q6J("ngIf",o.showDeleteSubscriptionModal),t.xp6(1),t.Q6J("ngIf",!o.isLoadindingSubscriptions&&(null==o.activeSubscription?null:o.activeSubscription.uid)))},dependencies:[c.mk,c.sg,c.O5,v.rH,v.yS,d.M,m.r,s.zS,s.Rb,_.A,l.Z,g.s,u.K,f.z,h.K,w.Q,U.f]}),i})();var V=a(9847),W=a(1616),X=a(1289);const tt=[{path:"",component:G}];let et=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.ez,v.Bz.forChild(tt),V.A,m.r,s.zS,s.Rb,_.A,W.G,l.Z,g.s,u.K,f.z,X.e,h.K,_.A,w.Q]}),i})()}}]);
//# sourceMappingURL=310.75f349f837debe1a.js.map