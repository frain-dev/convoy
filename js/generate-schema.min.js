(()=>{var e={237:(e,t,r)=>{const n=r(635);e.exports=n.default||n},635:(e,t,r)=>{t.generic=r(765),t.mongoose=r(619),t.bigquery=r(156),t.mysql=r(318),t.json=r(112),t.clickhouse=r(82)},156:(e,t,r)=>{var n=r(22);function i(e){return Array.isArray(e)?"REPEATED":"NULLABLE"}function a(e){if(Array.isArray(e))return a(e[0]);if(e instanceof Date)return"TIMESTAMP";if("object"==typeof e)return"RECORD";if("boolean"==typeof e)return"BOOLEAN";if("string"==typeof e){if(n.isDateString(e))return"DATE";if(n.isTimestamp(e))return"TIMESTAMP"}return isNaN(e)?"STRING":Number.isInteger(parseFloat(e))?"INTEGER":"FLOAT"}function o(e){return Object.keys(e).map((function(t){var r=e[t],n={name:t,type:a(e[t]),mode:i(e[t])};return"RECORD"===n.type&&(n.fields=o("REPEATED"===n.mode?r[0]:r)),n}))}e.exports=function(e){return o(e)}},82:(e,t,r)=>{var n=r(68),i=r(22),a={boolean:"String",string:"String",number:"Int32",date:"Date",timestamp:"DateTime",object:"Nested",regexp:"String",undefined:"String",null:"String"},o=function(e,t){return["  ",e," ",t,","].join("")};function s(e,t,r){var u,p,f,l,c=t.tableName,m=t.parentTableName,y=t.parentTableId,b=t.parentTableIdType,d=Object.keys(e),g=[],T=[],h=null,j="string";g.push(function(e){return["CREATE TABLE ",e," ("].join("")}(c)),m&&g.push(o(m+"_"+y,a[b]));for(var v=0;v<d.length;v++)("id"===d[v].toLowerCase()||d[v].toLowerCase().indexOf("_id")>-1)&&(e[u=d[v]]=e[d[v]],d[v]=u,h=d[v],j=typeof e[d[v]]);for(h||(h="id",j=b||j,g.push(o(h,a[j]))),v=0;v<d.length;v++)if("date"!=(l=(f=e[p=d[v]])instanceof Date?"date":n.string(f).toLowerCase())||r||(r=p),"undefined"!==l&&(l=i.isTimestamp(f)?"timestamp":l),"function"!==l)if("object"!==l||f.length)if("object"!==l&&"array"!==l)g.push(o(p,a[l]));else{if("object"==typeof f[0]){T.push(""),T.push(s(f[0],{parentTableName:c,parentTableId:h,parentTableIdType:j,tableName:c+"_"+p}).join(""));continue}T.push(""),T.push(s({value:typeof f[0]},{parentTableName:c,parentTableId:h,parentTableIdType:j,tableName:c+"_"+p}).join(""))}else T.push(""),T.push(s(f,{parentTableName:c,parentTableId:h,parentTableIdType:j,tableName:c+"_"+p}).join(""));return g[g.length-1]=i.arrayLastItem(g).substr(0,i.arrayLastItem(g).length-1),g.push(function(e,t){return t?[") ENGINE = MergeTree(",t,", (",e,", ",t,"), 8192);"].join(""):[") ENGINE = Memory;"].join("")}(h,r)),g.concat(T)}e.exports=function(e,t,r){return"string"!=typeof e&&(t=e,e="generic"),r||(r=null),s(t,{tableName:e},r).join("")}},765:(e,t,r)=>{var n=r(68),i=r(22);e.exports=function e(t,r){for(var a in r=r||{},t){var o=t[a],s=n.string(o).toLowerCase();"undefined"===s&&(s="null"),"string"===s&&i.isDate(o)&&(s="date"),"object"!==s?r[a]={type:s}:(r[a]=e(t[a]),r[a].type=s)}return r}},112:(e,t,r)=>{var n=r(68);function i(e){return"date"===n.string(e).toLowerCase()?"date-time":null}function a(e){var t=n.string(e).toLowerCase();return"date"===t||"regexp"===t||"function"===t?"string":t}function o(e,t,r){var n,i,a;e=Object.keys(e),r=r||[];for(var o=0,s=(t=Object.keys(t)).length;o<s;o++)n=t[o],a=e.indexOf(n),i=r.indexOf(n),-1===a?-1!==i&&r.splice(i,1):-1===i&&r.push(n);return r}function s(e,t,r){var p,f,l;r&&t?t={items:t}:((t=t||{}).type=a(e),t.items=t.items||{},l=t.items.type||null);for(var c=0,m=e.length;c<m;c++){var y=a(e[c]),b=i(e[c]);if(l&&y!==l){t.items.oneOf=[],f=!0;break}l=y,p=b}if(!f&&l?(t.items.type=l,p&&(t.items.format=p)):f&&"object"!==l&&(t.items={oneOf:[{type:l}],required:t.items.required}),void 0!==t.items.oneOf||"object"===l)for(var d=0,g=e.length;d<g;d++){var T,h=e[d],j=a(h),v=i(h);if("object"===j?(t.items.properties&&(t.items.required=o(t.items.properties,h,t.items.required)),T=u(h,f?{}:t.items.properties,!0)):"array"===j?T=s(h,f?{}:t.items.properties,!0):((T={}).type=j,v&&(T.format=v)),f){var N=n.string(h).toLowerCase(),E={};T.type||"object"!==N||(E.properties=T,E.type="object",T=E),t.items.oneOf.push(T)}else{if("object"!==t.items.type)continue;t.items.properties=T}}return r?t.items:t}function u(e,t,r){for(var n in r&&t?t={properties:t}:((t=t||{}).type=a(e),t.properties=t.properties||{}),e){var o=e[n],p=a(o),f=i(o);if("object"!==(p="undefined"===p?"null":p))if("array"!==p)if(t.properties[n]){var l=t.properties[n],c=Array.isArray(l.type);c&&l.type.indexOf(p)<0&&l.type.push(p),c||l.type===p||(l.type=[l.type,p])}else t.properties[n]={},t.properties[n].type=p,f&&(t.properties[n].format=f);else t.properties[n]=s(o,t.properties[n]);else t.properties[n]=u(o,t.properties[n])}return r?t.properties:t}e.exports=function(e,t){var r,i={$schema:"http://json-schema.org/draft-04/schema#"};return"string"!=typeof e?(t=e,e=void 0):i.title=e,i.type=n.string(t).toLowerCase(),"object"===i.type&&(r=u(t),i.type=r.type,i.properties=r.properties),"array"===i.type&&(r=s(t),i.type=r.type,i.items=r.items,i.title&&(i.items.title=i.title,i.title+=" Set")),i}},619:(e,t,r)=>{var n=r(68),i=r(22);function a(e){switch(e){case"array":return"Array";case"buffer":return"Buffer";case"boolean":return"Boolean";case"date":return"Date";case"number":return"Number";case"string":return"String";case"objectid":return"ObjectId";default:return"Mixed"}}e.exports=function e(t,r){for(var o in r=r||{},t){var s=t[o],u=null,p=null,f=null;if(s instanceof Buffer&&(f="buffer"),null!=s&&void 0!==s.toString&&s.toString().match(/^[0-9a-fA-F]{24}$/)&&(f="objectid"),f||(f=n.string(s).toLowerCase()),"string"===f&&i.isDate(s)&&(f="date"),"object"===f)r[o]=e(t[o]);else{if("undefined"===f&&(f="null"),"array"===f&&s.length){u=f,f=void 0;for(var l=0,c=s.length;l<c;l++){if(p=n.string(s[l]).toLowerCase(),f&&p!==f){f="mixed";break}f=p}}r[o]=u&&"array"===u?{type:[a(f)]}:{type:a(f)}}}return r}},318:(e,t,r)=>{var n=r(68),i=r(22),a={boolean:"BOOLEAN",string:"TEXT",number:"INT",date:"DATE",timestamp:"TIMESTAMP",regexp:"TEXT",undefined:"TEXT",null:"TEXT"},o=function(e,t){return["  ",e," ",t,","].join("")};function s(e,t){var r,u,p,f,l=t.tableName,c=t.parentTableName,m=t.parentTableId,y=t.parentTableIdType,b=Object.keys(e),d=[],g=[],T=null,h="string";d.push(function(e){return["CREATE TABLE ",e," ("].join("")}(l)),c&&d.push(o(c+"_"+m,a[y]));for(var j=0;j<b.length;j++)("id"===b[j].toLowerCase()||b[j].toLowerCase().indexOf("_id")>-1)&&(e[r=b[j]]=e[b[j]],b[j]=r,T=b[j],h=typeof e[b[j]]);for(T||(T="id",h=y||h,d.push(o(T,a[h]))),j=0;j<b.length;j++)if("undefined"!==(f=(p=e[u=b[j]])instanceof Date?"date":n.string(p).toLowerCase())&&(f=i.isTimestamp(p)?"timestamp":f),"function"!==f)if("object"!==f||p.length)if("object"!==f&&"array"!==f)d.push(o(u,a[f]));else{if("object"==typeof p[0]){g.push(""),g.push(s(p[0],{parentTableName:l,parentTableId:T,parentTableIdType:h,tableName:l+"_"+u}).join("\n"));continue}g.push(""),g.push(s({value:typeof p[0]},{parentTableName:l,parentTableId:T,parentTableIdType:h,tableName:l+"_"+u}).join("\n"))}else g.push(""),g.push(s(p,{parentTableName:l,parentTableId:T,parentTableIdType:h,tableName:l+"_"+u}).join("\n"));return d.push(function(e){return["  PRIMARY KEY (",e,"),"].join("")}(T)),c&&d.push(["  FOREIGN KEY (",c+"_id",") REFERENCES ",c,"(",m,"),"].join("")),d[d.length-1]=i.arrayLastItem(d).substr(0,i.arrayLastItem(d).length-1),d.push(");"),d.concat(g)}e.exports=function(e,t){return"string"!=typeof e&&(t=e,e="generic"),s(t,{tableName:e}).join("\n")}},22:(e,t)=>{var r=/\d{4}-\d{2}-\d{2}/;t.isNumber=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},t.isDate=function(e){return"Invalid Date"!==new Date(e).toString()&&!isNaN(new Date(e))},t.isTimestamp=function(e){return e.length>18&&!isNaN(new Date(e).getTime())},t.isDateString=function(e){return e.match(r)},t.arrayLastItem=function(e){return e[e.length-1]}},68:e=>{e.exports=function(){var e,t,r,n=(t=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error],r=t.length,function(e){for(var n=0;n<r;n++)if(t[n]===e)return!0;return!1}),i=(e={}.toString,function(t){var r=e.call(t).slice(8,-1);if(null==t)return r.toLowerCase();var i=a(t);return i&&!n(i)?i.name:r});function a(e){return null==e?e:e.constructor}function o(e,t){return(a(t)===String?i:a)(e)===t}function s(e,t){return e instanceof t}function u(e,t){if(!o(t,Array))throw"Second argument to .any() should be array";for(var r=0;r<t.length;r++)if(o(e,t[r]))return!0;return!1}var p=function(e,t){return 1==arguments.length?a(e):o(t,Array)?u(e,t):o(e,t)};return p.instance=s,p.string=i,p.of=a,p.is=o,p.any=u,p.extension=function(e,t){return s(e.prototype,t)},p}()}},t={},r=function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(237);module.exports=r})();